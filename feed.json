{
    "version": "https://jsonfeed.org/version/1",
    "title": "CygneNoir",
    "subtitle": "赌徒去往哪儿里，那里就是赌场。",
    "icon": "http://avidnoir.github.io/project/assets/favicon.ico",
    "description": "赌徒去往哪儿里，那里就是赌场。",
    "home_page_url": "http://AvidNoir.github.io/project",
    "items": [
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Web3/Solidity/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Web3/Solidity/",
            "title": "Solidity",
            "date_published": "2025-02-27T09:31:03.353Z",
            "content_html": "<h1 id=\"solidity\"><a class=\"anchor\" href=\"#solidity\">#</a> Solidity</h1>\n<p><div class=\"links\"><div class=\"item\" title=\"Solidity Academy\" style=\"--block-color:#e9546b;\"><a href=\"https://www.wtf.academy/\" class=\"image\" data-background-image=\"https://www.wtf.academy/img/logo.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.wtf.academy/\" class=\"title\">Solidity Academy</a>\n        <p class=\"desc\">Web3 Academy</p>\n        </div></div><div class=\"item\" title=\"Remix\" style=\"--block-color:#9d5b8b;\"><a href=\"https://remix.ethereum.org/\" class=\"image\" data-background-image=\"/assets/404.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://remix.ethereum.org/\" class=\"title\">Remix</a>\n        <p class=\"desc\">以太链上的合约开发 IDE</p>\n        </div></div></div></p>\n<h1 id=\"solidity-basic\"><a class=\"anchor\" href=\"#solidity-basic\">#</a> Solidity Basic</h1>\n<h2 id=\"开发工具remix\"><a class=\"anchor\" href=\"#开发工具remix\">#</a> 开发工具：Remix<a href=\"https://www.wtf.academy/docs/solidity-101/HelloWeb3#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7remix\" title=\"开发工具：Remix的直接链接\">​</a></h2>\n<p>本教程中，我们将使用   <code>Remix</code>   运行   <code>Solidity</code>   合约。 <code>Remix</code>   是以太坊官方推荐的智能合约集成开发环境（IDE），适合新手，可以在浏览器中快速开发和部署合约，无需在本地安装任何程序。</p>\n<p>网址：<a href=\"https://remix.ethereum.org/\">https://remix.ethereum.org</a></p>\n<p>在   <code>Remix</code>   中，左侧菜单有三个按钮，分别对应文件（编写代码）、编译（运行代码）和部署（将合约部署到链上）。点击 “创建新文件”（ <code>Create New File</code> ）按钮，即可创建一个空白的   <code>Solidity</code>   合约。</p>\n<p><img loading=\"lazy\" data-src=\"https://www.wtf.academy/assets/images/1-1-59ec4df354181363259759212e42dad1.png\" alt=\"Remix 面板\" /></p>\n<h2 id=\"first-solidity-program\"><a class=\"anchor\" href=\"#first-solidity-program\">#</a> First Solidity Program</h2>\n<figure class=\"highlight solidity\"><figcaption data-lang=\"Solidity (Ethereum)\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// SPDX-License-Identifier: MIT</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>pragama <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.21</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">contract</span> <span class=\"token class-name\">HelloWeb3</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token builtin\">string</span> <span class=\"token keyword\">public</span> _string <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello Web3!\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>快捷键  <code>prag</code></p>\n",
            "tags": [
                "Web3",
                "Web3",
                "Solidity"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Typescript/Typescript/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Typescript/Typescript/",
            "title": "Typescript Learning",
            "date_published": "2025-02-27T09:31:03.349Z",
            "content_html": "<h1 id=\"typescript-learning\"><a class=\"anchor\" href=\"#typescript-learning\">#</a> Typescript Learning</h1>\n<h3 id=\"在-vscode-终端中无法直接-npm-ls-g-很有可能是权限不够-以管理员身份启动-vscode-解决\"><a class=\"anchor\" href=\"#在-vscode-终端中无法直接-npm-ls-g-很有可能是权限不够-以管理员身份启动-vscode-解决\">#</a> 在 VSCODE 终端中无法直接 npm ls -g 很有可能是权限不够 以管理员身份启动 VSCODE 解决</h3>\n<h3 id=\"npm-常用命令\"><a class=\"anchor\" href=\"#npm-常用命令\">#</a> npm 常用命令</h3>\n<pre><code>npm ls -g\n</code></pre>\n<p>这样只会查到包 不会查到依赖</p>\n<pre><code>npm ls -g --depth 0\n</code></pre>\n<p>只显示生产环境依赖的包</p>\n<pre><code>npm ls --depth 0 --prod\n</code></pre>\n<p>只显示开发环境依赖的包</p>\n<pre><code>npm ls --depth 0 --dev\n</code></pre>\n<p>我们安装完成 <a href=\"https://so.csdn.net/so/search?q=node&amp;spm=1001.2101.3001.7020\">node</a> 环境后，默认使用的 <a href=\"https://so.csdn.net/so/search?q=%E9%95%9C%E5%83%8F%E6%BA%90&amp;spm=1001.2101.3001.7020\">镜像源</a> 是 npm，但是有时候，需要切换到其他的镜像源安装依赖，这时候我们需要用 nrm（npm registry manager ）进行源的快速切换。</p>\n<h1 id=\"node-使用-nrm-切换镜像源-更快安装依赖\"><a class=\"anchor\" href=\"#node-使用-nrm-切换镜像源-更快安装依赖\">#</a> node 使用 nrm 切换镜像源 - 更快安装依赖</h1>\n<h2 id=\"1安装-nrm\"><a class=\"anchor\" href=\"#1安装-nrm\">#</a> 1. 安装 <a href=\"https://so.csdn.net/so/search?q=nrm&amp;spm=1001.2101.3001.7020\">nrm</a></h2>\n<p>安装 nrm 很简单，使用  <code>npm install -g nrm</code>  可以直接就全局安装 ()<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/NdEhmTPa5vI3lYf.png\" alt=\"\" /><br />\n 安装完成后，我们可以使用  <code>nrm ls</code>  查看所有的可用源，展示的源前有 * 的表示目前正在使用的源。<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/lwBn5fXo9MgNdqc.png\" alt=\"\" /></p>\n<h2 id=\"2切换源\"><a class=\"anchor\" href=\"#2切换源\">#</a> 2. 切换源</h2>\n<p>我们通过  <code>nrm ls</code>  查看目前可用的源后，需要切换到某个源，直接使用  <code>nrm use &lt;源名&gt;</code>  即可完成切换。比如我们需要切换到 taobao 的源直接使用  <code>nrm use taobao</code> <br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/iDqWpIURM9n2AuC.png\" alt=\"\" /></p>\n<h2 id=\"3增加源\"><a class=\"anchor\" href=\"#3增加源\">#</a> 3. 增加源</h2>\n<p>有时我们需要增加一些定制的源，如公司内部自己的私有源，我们使用  <code>nrm add &lt;源名&gt; &lt;源 url&gt;</code>   进行添加。<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/uvs76ydPr1eiQEW.png\" alt=\"\" /></p>\n<h2 id=\"4删除源\"><a class=\"anchor\" href=\"#4删除源\">#</a> 4. 删除源</h2>\n<p>删除不需要的源使用  <code>nrm del &lt;源名&gt;</code>  进行删除<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/zs9ZYStfHnk1OWG.png\" alt=\"\" /><br />\n我们也可以使用  <code>nrm test &lt;源名&gt;</code>  去测试速度，以方便我们选择使用哪个源</p>\n<h3 id=\"因为在此系统上禁止运行脚本解决办法\"><a class=\"anchor\" href=\"#因为在此系统上禁止运行脚本解决办法\">#</a> “因为在此系统上禁止运行脚本” 解决办法</h3>\n<p><a href=\"https://zhuanlan.zhihu.com/p/493496089\">原地址</a></p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>set-ExecutionPolicy RemoteSigned</pre></td></tr></table></figure><p>改回去</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>set-ExecutionPolicy Default</pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/kyMZD9n5pUo8Bcx.png\" alt=\"\" /></p>\n<h3 id=\"安装-typescript-并检测-tsc短端口类型脚本编译器\"><a class=\"anchor\" href=\"#安装-typescript-并检测-tsc短端口类型脚本编译器\">#</a> 安装 typescript 并检测 tsc（短端口类型脚本编译器）</h3>\n<pre><code>npm i -g typescript\n</code></pre>\n<pre><code>tsc -v\n</code></pre>\n<h3 id=\"常用-terminal-命令\"><a class=\"anchor\" href=\"#常用-terminal-命令\">#</a> 常用 terminal 命令</h3>\n<pre><code>cd ~\n</code></pre>\n<pre><code class=\"language-Sh\">mkdir #新文件夹名字\n</code></pre>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/6JmfTwYqzDoNr1R.png\" alt=\"\" /><br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/wH9lBKIvO4nWixh.png\" alt=\"\" /><br />\n在 vscode 中打开现在的目录文件夹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>code <span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/6HzlByNfnPmwj8X.png\" alt=\"\" /></p>\n<h2 id=\"linux-创建新文件的命令\"><a class=\"anchor\" href=\"#linux-创建新文件的命令\">#</a> linux 创建新文件的命令</h2>\n<ol>\n<li>vi 或 vim</li>\n</ol>\n<p>[root@localhost ~]# vi file1.txt// 直接创建并打开一个文件 file1.txt</p>\n<p>用 vi 编辑器编辑文本后，如果是新创建的文件，默认保存在当前目录下，如果想保存到指定目录下，可以在 vi 编辑器中，按 Esc 键切换到命令模式，然后用 w 命令写到指定目录下的指定新建文件，如写到 /tmp/test.txt 文件，则在 vi 命令模式下输入: w /tmp/test.txt 写好后，在 /tmp 目录下新的文件 test.txt 就被创建了。</p>\n<ol start=\"2\">\n<li>touch</li>\n</ol>\n<p>[root@localhost ~]# touch file2.txt// 创建新的空文件 file2.txt</p>\n<p>touch 的另一个作用是更改一个文件或目录的时间。</p>\n<ol start=\"3\">\n<li>echo</li>\n</ol>\n<p>[root@localhost ~]# echo &quot;this is a new file&quot; &gt; file3.txt// 创建文件 file3.txt 并将 this is a new file 写入</p>\n<p>(说明：使用&gt; 指令覆盖文件原内容并重新输入内容，若文件不存在则创建文件。)</p>\n<p>[root@localhost ~]# echo &quot;add contents&quot; &gt;&gt;file3.txt// 在已存在的文件补充写入新内容 add contents</p>\n<p>(说明：使用&gt;&gt; 指令向文件追加内容，原内容将保存。)</p>\n<p>拓展： Linux 中输出重定向 &gt; 和 &gt;&gt; 的区别，&gt; 是覆盖，&gt;&gt; 是追加</p>\n<blockquote>\n<p>会重写文件，如果文件里面有内容会覆盖。</p>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>追加文件。也就是如果文件里面有内容会把新内容追加到文件尾</p>\n</blockquote>\n</blockquote>\n<ol start=\"4\">\n<li>less 、more 、cat</li>\n</ol>\n<p>三者都是将文件内容输出到标准输出，其中 less 和 more 可以分页显示，cat 是显示全部。</p>\n<p>三者可以根据已经存在的文件创建新的文件。假设已经存在文件 1.txt。</p>\n<p>cat 1.txt &gt; 2.txt</p>\n<p>less 1.txt &gt; 3.txt</p>\n<p>more 1.txt &gt; 4.txt</p>\n<p>此时创建的文件内容都和 1.txt 中文件内容相同。</p>\n<p>cat 命令可以一次显示整个文件，如果文件比较大，使用不是很方便；适用于文件内容少的情况。</p>\n<p>cat 主要有三大功能：</p>\n<p>1) 一次显示整个文件: cat filename</p>\n<p>2) 从键盘创建一个文件: cat &gt; filename 只能创建新文件，不能编辑已有文件.</p>\n<p>3) 将几个文件合并为一个文件: cat file1 file2 &gt; file</p>\n<p>more 命令可以让屏幕在显示满一屏幕时暂停，此时可按空格健继续显示下一个画面，或按 Q 键停止显示。</p>\n<p>less 命令也可以分页显示文件，和 more 命令的区别就在于它支持上下键卷动屏幕，当结束浏览时，只要在 less 命令的提示符 “:” 下按 Q 键即可。</p>\n<ol start=\"5\">\n<li>cd</li>\n</ol>\n<p>[root@localhost ~]# cd &gt; file3.txt// 创建新的空文件 file3.txt</p>\n<p>[root@localhost ~]# cd &gt;&gt; file4.txt// 创建新的空文件 file3.txt</p>\n<p>cd 最主要的作用是切换目录，在 cd 后面跟 &gt; 或 &gt;&gt; 再加上文件名就可以创建一个内容为空的文件。它和 echo 的区别之处在于 echo 可写文件内容，而 cd 并不能。<br />\n————————————————<br />\n 版权声明：本文为 CSDN 博主「csdnlzy」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。</p>\n<h3 id=\"删除文件\"><a class=\"anchor\" href=\"#删除文件\">#</a> 删除文件</h3>\n<p><a href=\"http://t.zoukankan.com/macrored-p-11415741.html\">原文地址</a></p>\n<h3 id=\"使用-typesript-编译器使得我们可以编译-indexts\"><a class=\"anchor\" href=\"#使用-typesript-编译器使得我们可以编译-indexts\">#</a> 使用 typesript 编译器使得我们可以编译 index.ts</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>tsc index.ts</pre></td></tr></table></figure><p>会出现一个 index.js 就编译好了</p>\n<h2 id=\"创建-typescript-配置文件\"><a class=\"anchor\" href=\"#创建-typescript-配置文件\">#</a> 创建 Typescript 配置文件</h2>\n<pre><code>tsc --init\n</code></pre>\n<h3 id=\"在-vscode-中搜索文件\"><a class=\"anchor\" href=\"#在-vscode-中搜索文件\">#</a> 在 VSCODE 中搜索文件</h3>\n<p>ctrl + p</p>\n<h3 id=\"创建类\"><a class=\"anchor\" href=\"#创建类\">#</a> 创建类</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/dlzeJytuF5UL9Dg.png\" alt=\"\" /><br />\n这是 Typescript 的初始化属性方法<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/z4sZwFr8vMdUWTO.png\" alt=\"\" /><br />\n这是 Javascript 的<br />\n声明 id/owner/balance 的类型 在 JavaScript 中不存在</p>\n<h3 id=\"报错-throw-new-error\"><a class=\"anchor\" href=\"#报错-throw-new-error\">#</a> 报错: throw new Error</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/3IMogFkEQ5YXCKc.png\" alt=\"\" /><br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/p965kdPCq3AhgNG.png\" alt=\"\" /></p>\n<h2 id=\"一步编译并运行\"><a class=\"anchor\" href=\"#一步编译并运行\">#</a> 一步编译并运行</h2>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/47Jc5fFvxyLIrp9.png\" alt=\"\" /><br />\nmac 下的<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/ZERTsi7vNQJ6dYX.png\" alt=\"\" /></p>\n<p>Linux 下的</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>tsc <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">node</span> ~</pre></td></tr></table></figure><p>Windows 下的<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/dD4KO2ZIYiGsmNR.png\" alt=\"\" /></p>\n<h3 id=\"只读修饰符-在类型声明的时候-加上-readonly-只能在构造函数内设置它\"><a class=\"anchor\" href=\"#只读修饰符-在类型声明的时候-加上-readonly-只能在构造函数内设置它\">#</a> 只读修饰符 在类型声明的时候 加上 readonly (只能在构造函数内设置它)</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/7qfzeILgmMy435s.png\" alt=\"\" /></p>\n<h3 id=\"继承\"><a class=\"anchor\" href=\"#继承\">#</a> 继承</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/MkJVPURgiZKHaxs.png\" alt=\"\" /></p>\n<figure class=\"highlight ts\"><figcaption data-lang=\"TypeScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 继承 inheritance 即类中共同的属性 防止重复</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">public</span> firstName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">public</span> lastName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token comment\">// 注意这里不能 return 任何 因为要返回一个实例对象 object 类型</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">get</span> <span class=\"token function\">fullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstName <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>lastName</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token function\">walk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Walking'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">public</span> studentId<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> firstName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> lastName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// 这里使用访问修饰符时：public /private 我们本质上是在创建一个参数属性 所以类型脚本编译器将创建此名称的属性并为我们初始化它 这里我们不想用公共修饰符 public 因为之前已经在 Person 里声明且初始化过了</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>firstName<span class=\"token punctuation\">,</span> lastName<span class=\"token punctuation\">)</span><span class=\"token comment\">// 在 ts 中 有一个特殊的关键字 super 去让我们来参考 reference 基础的类 basic class</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token function\">takeTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Taking a test'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token keyword\">let</span> student <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'john@gmail.com'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"折叠代码块\"><a class=\"anchor\" href=\"#折叠代码块\">#</a> 折叠代码块</h3>\n<p>ctrl + k + 0 折叠全部<br />\n ctrl + k + j 展开全部</p>\n<p>ctrl + shift + [ 折叠选中<br />\n \\ 反义符号<br />\n ctrl + shift + ] 展开选中</p>\n<h3 id=\"属性-properties-运算符-operator\"><a class=\"anchor\" href=\"#属性-properties-运算符-operator\">#</a> 属性 Properties 运算符 Operator</h3>\n<h3 id=\"这些东西非常有用-且内置在-typescript-中\"><a class=\"anchor\" href=\"#这些东西非常有用-且内置在-typescript-中\">#</a> 这些东西非常有用 且内置在 Typescript 中</h3>\n<p><a href=\"typescriptlang.org/docs/handbook/utility-types.html\">原链接</a></p>\n<h3 id=\"65-至-68-需复习记得写笔记-78-属性装饰器\"><a class=\"anchor\" href=\"#65-至-68-需复习记得写笔记-78-属性装饰器\">#</a> 6.5 至 6.8 需复习记得写笔记 7.8 属性装饰器</h3>\n<h3 id=\"展开运算符\"><a class=\"anchor\" href=\"#展开运算符\">#</a> 展开运算符 ...</h3>\n<p><a href=\"https://www.jianshu.com/p/a432a9e78949\">展开运算符</a></p>\n<h3 id=\"ctrl-移动到新文件或者删除模块\"><a class=\"anchor\" href=\"#ctrl-移动到新文件或者删除模块\">#</a> ctrl + . 移动到新文件或者删除模块</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/JC6UtTRiW9IGHbY.png\" alt=\"\" /></p>\n<h3 id=\"lodash-流行的应用程序\"><a class=\"anchor\" href=\"#lodash-流行的应用程序\">#</a> lodash 流行的应用程序</h3>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/MfSojCyk2XlpeY4.png\" alt=\"\" /><br />\n因为 lodash 纯纯 JS 所以需要类型注释 使得构建应用程序更快<br />\n所以再装一个类型注释库 @types 是很流行的 JS 类型注释库 里面有所有 JS 包的类型注释</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i <span class=\"token parameter variable\">-D</span> @types/lodash</pre></td></tr></table></figure><p>-D 开发环境安装 也就是不会出现在上线环境<br />\n @types/ + 上 JS 包<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/UNFM5fXyRi2KSPh.png\" alt=\"\" /><br />\n这样就可以出现提示了</p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/bPVMUXvisc7OryI.png\" alt=\"\" /><br />\n包和声明文件一般不会分开</p>\n<h2 id=\"react\"><a class=\"anchor\" href=\"#react\">#</a> React</h2>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>npx create-react-app reminders-app <span class=\"token parameter variable\">--template</span> typescript</pre></td></tr></table></figure><p>创建一个叫 reminders-app 的 react 且使用 typescript</p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/Wh9QGLDtRdnuBEV.png\" alt=\"\" /></p>\n<pre><code>button.btn.btn-primary\n</code></pre>\n<p>创建一个 button className 为 btn btn-primary</p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/dG9w5zgelPZoJq4.png\" alt=\"\" /></p>\n<p>还是一样的 ctrl + .<br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/UGcnwb4qm5vMIsE.png\" alt=\"\" /><br />\n<img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/08/09/H3at5vrYZqQJVdz.png\" alt=\"\" /><br />\n 就会自动创建了</p>\n",
            "tags": [
                "Typescript"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/WTT%20Volume%20Trend%20by%20Morty/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/WTT%20Volume%20Trend%20by%20Morty/",
            "title": "WTT Volume Trend by Morty",
            "date_published": "2025-02-27T09:31:03.344Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"bf30075\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/v008IqH7-wtt-volume/\" class=\"image\" data-background-image=\"/assets/404.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/v008IqH7-wtt-volume/\" class=\"title\">WTT Volume</a>\n        <p class=\"desc\">WTT Volume</p>\n        </div></div><div class=\"item\" title=\"Morty\" style=\"--block-color:#fefe6c;\"><a href=\"https://www.tradingview.com/script/yqJ2wl50/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/14/qzUsFr6vMLcoI8P.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/yqJ2wl50/\" class=\"title\">WTT Volume Trend by Morty</a>\n        <p class=\"desc\">WTT Volume</p>\n        </div></div></div></p>\n<h1 id=\"wtt-volume-by-bf30075\"><a class=\"anchor\" href=\"#wtt-volume-by-bf30075\">#</a> WTT Volume by bf30075</h1>\n<p>This indicator is based on the chapter Progress in Volume Capacity of WTT. The Fundamentals and Advance of Natural Trading Theory.<br />\nProgress in volume capacity focuses on the absolute strength or relative strength of the volume capacity of bulls and bears in a single k-bar.<br />\nThe book grades volume capacity as follows:<br />\nAbsolute Strength:<br />\nAbsolute strength of bulls: the bulls win and close, with long lower shadow or long solid body.<br />\nAbsolute strength of bears: the bears win and close, with long upper shadow or long solid body.<br />\nRelative Strength<br />\nRelative strength of bulls: long lower shadow much longer than the solid K-bar, even when the bears win; or well-matched solid K-bar and upper shadow when the bulls close.<br />\nRelative strength of bears: long upper shadow much longer than the solid K-bar, even when the bulls win; or well-matched solid K-bar and lower shadow when the bears close.<br />\nCrosshairs<br />\nFrequently found in market shocks or before turning points, to be analyzed on top of the above relative and absolute strength.</p>\n<p>This indicator colors the volume by the size of volume capacity, dark colors for the strong, light colors for the weak, and grey crosshairs. This is to make it easier for you to draw the curve of volume capacity and feel the contrast of strength between the bulls and the bears. You may therefore have better timing and position for opening and closing a position. The bull-bear strength comparison reflected by a single k-bar helps you better decide the next move within a very short period, which could be opening a position, coming into the position at low, underweighting, or closing a position.</p>\n<p>本指标根据《WTT. 自然交易理论基础与进阶》量能精进一章编写。</p>\n<p>量能精进关注的，是单个 K 柱中多空双方量能的绝对强势或相对强势。<br />\n该书把量能分为以下几个等级：<br />\n绝对强势<br />\n多头绝对强势：多头获胜收线，带有长下影线或长实心柱体。<br />\n空头绝对强势：空头获胜收线，带有长上影线或长实心柱体。<br />\n相对强势<br />\n多头相对强势：长下影线相对实心 K 柱长很多，即使是空头获胜收线；或多头收线时实心 K 柱与上影线旗鼓相当。<br />\n空头相对强势：长上影线相对实心 K 柱长很多，即使是多头获胜收线；或空头收线时实心 K 柱与下影线旗鼓相当。<br />\n十字线<br />\n在震荡行情或出现拐点前出现频率较高，可结合上述相对强势和绝对强势进行综合判断。</p>\n<p>本指标根据量能强弱对交易量进行染色，强势为深色，弱势为浅色，灰色为十字线，方便你手绘量能曲线，感受多空量能强弱。能给你提供更优的开平仓时机和点位。通过单个 k 柱形态反映出来的多空强弱关系，你可以更好地执行下一个极短周期内的操作，可能是开仓，也可能是补仓、减仓或平仓。</p>\n<p>Feb 24, 2021</p>\n<p>Release Notes</p>\n<p>Add alarm.<br />\n 添加警报功能。</p>\n<p>Feb 24, 2021</p>\n<p>Release Notes</p>\n<p>Improve the English description of alert.</p>\n<p>（PineScript Private）</p>\n<h1 id=\"wtt-volume-trend-by-morty\"><a class=\"anchor\" href=\"#wtt-volume-trend-by-morty\">#</a> <strong>WTT Volume Trend by Morty</strong></h1>\n<p>Inspired by Natural Trading Theory</p>\n<p>It is a colored volume indicator based on the strength of single candlestick pattern.</p>\n<p>It also paints two weighted volume SMA, which shows the strength and trend of the market.</p>\n<p>Version 1.0, Updated at 20210327</p>\n<p><strong>Features:</strong></p>\n<ul>\n<li>Colored volume bars (Optional)</li>\n<li>Weighted Bullish volume SMA trend lines according to candlestick pattern</li>\n<li>Weighted Bearish volume SMA trend lines according to candlestick pattern</li>\n<li>Adjustable volume SMA length</li>\n<li>Adjustable weighting factors</li>\n<li>Filling the background between volume SMA trend lines</li>\n</ul>\n<p>Mar 29, 2021</p>\n<p>Release Notes</p>\n<p>fix bullish weak and bearish weak pattern recognition bugs</p>\n<p>Apr 9, 2021</p>\n<p>Release Notes</p>\n<p><strong>Version 1.1</strong><br />\nAdd feature: Highlight large volume</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// © M0rty</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">//@version=4</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">////////////////////////////////////////////////////////////////</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// WTT Volume Trend by Morty</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// Inspired by Natural Trading Theory</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">//--------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// Version 1.1, Updated at 20210409</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">// Add feature:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// - Highlight large volume</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//--------------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">// Version 1.0, Updated at 20210327</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// Features:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">// - Colored volume bars (Optional)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// - Weighted Bullish volume SMA trend lines according to candlestick pattern</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">// - Weighted Bearish volume SMA trend lines according to candlestick pattern</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">// - Adjustable volume SMA length</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">// - Adjustable weighting factors</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// - Filling the background between volume SMA trend lines</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">////////////////////////////////////////////////////////////////</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"WTT Volume Trend [Morty]\"</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">\"Vol Trend [Morty]\"</span><span class=\"token punctuation\">,</span> format<span class=\"token operator\">=</span>format<span class=\"token punctuation\">.</span>volume<span class=\"token punctuation\">,</span> resolution<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">// inputs</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>showVolume <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Show Volume Bars\"</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Bars\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>showColor <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Coloring Volume Bars\"</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Bars\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>showTrend <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Show Volume Trend\"</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Trend\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>trend_ma_length <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Volume Trend SMA length\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>integer<span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Trend\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>strong_volume_weighting_factor <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Strong volume weighting factor\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>float<span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> maxval<span class=\"token operator\">=</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>step<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Trend weighting factor\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>weak_volume_weighting_factor <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.4</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Weak volume weighting factor\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>float<span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> maxval<span class=\"token operator\">=</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>step<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Volume Trend weighting factor\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>neutral_volume_weighting_factor <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token comment\">// candlestick pattern variables</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>C_Len <span class=\"token operator\">=</span> <span class=\"token number\">10</span> <span class=\"token comment\">// ema depth for bodyAvg</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>C_ShadowPercent <span class=\"token operator\">=</span> <span class=\"token number\">5.0</span> <span class=\"token comment\">// size of shadows</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>C_ShadowEqualsPercent <span class=\"token operator\">=</span> <span class=\"token number\">100.0</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>C_DojiBodyPercent <span class=\"token operator\">=</span> <span class=\"token number\">8.5</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>C_Factor <span class=\"token operator\">=</span> <span class=\"token number\">2.0</span> <span class=\"token comment\">// shows the number of times the shadow dominates the candlestick body</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>C_BodyHi <span class=\"token operator\">=</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> open<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>C_BodyLo <span class=\"token operator\">=</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> open<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>C_Body <span class=\"token operator\">=</span> C_BodyHi <span class=\"token operator\">-</span> C_BodyLo</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>C_BodyAvg <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>C_Body<span class=\"token punctuation\">,</span> C_Len<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>C_SmallBody <span class=\"token operator\">=</span> C_Body <span class=\"token operator\">&lt;</span> C_BodyAvg</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>C_LongBody <span class=\"token operator\">=</span> C_Body <span class=\"token operator\">></span> C_BodyAvg</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>C_UpShadow <span class=\"token operator\">=</span> high <span class=\"token operator\">-</span> C_BodyHi</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>C_DnShadow <span class=\"token operator\">=</span> C_BodyLo <span class=\"token operator\">-</span> low</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>C_HasUpShadow <span class=\"token operator\">=</span> C_UpShadow <span class=\"token operator\">></span> C_ShadowPercent <span class=\"token operator\">/</span> <span class=\"token number\">100</span> <span class=\"token operator\">*</span> C_Body</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>C_HasDnShadow <span class=\"token operator\">=</span> C_DnShadow <span class=\"token operator\">></span> C_ShadowPercent <span class=\"token operator\">/</span> <span class=\"token number\">100</span> <span class=\"token operator\">*</span> C_Body</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>C_WhiteBody <span class=\"token operator\">=</span> open <span class=\"token operator\">&lt;</span> close</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>C_BlackBody <span class=\"token operator\">=</span> open <span class=\"token operator\">></span> close</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>C_Range <span class=\"token operator\">=</span> high<span class=\"token operator\">-</span>low</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>C_IsInsideBar <span class=\"token operator\">=</span> C_BodyHi<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> C_BodyHi and C_BodyLo<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> C_BodyLo</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>C_BodyMiddle <span class=\"token operator\">=</span> C_Body <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> C_BodyLo</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>C_ShadowEquals <span class=\"token operator\">=</span> C_UpShadow <span class=\"token operator\">==</span> C_DnShadow <span class=\"token function\">or</span> <span class=\"token punctuation\">(</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>C_UpShadow <span class=\"token operator\">-</span> C_DnShadow<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> C_DnShadow <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> C_ShadowEqualsPercent <span class=\"token function\">and</span> <span class=\"token punctuation\">(</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>C_DnShadow <span class=\"token operator\">-</span> C_UpShadow<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> C_UpShadow <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> C_ShadowEqualsPercent</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>C_IsDojiBody <span class=\"token operator\">=</span> C_Range <span class=\"token operator\">></span> <span class=\"token number\">0</span> and C_Body <span class=\"token operator\">&lt;=</span> C_Range <span class=\"token operator\">*</span> C_DojiBodyPercent <span class=\"token operator\">/</span> <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>C_Doji <span class=\"token operator\">=</span> C_IsDojiBody and C_ShadowEquals</pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token comment\">// candlestick pattern recognition</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre></pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token comment\">// Neutral Doji</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>C_DragonflyDoji <span class=\"token operator\">=</span> C_IsDojiBody and C_UpShadow <span class=\"token operator\">&lt;=</span> C_Body</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>C_GravestoneDojiOne <span class=\"token operator\">=</span> C_IsDojiBody and C_DnShadow <span class=\"token operator\">&lt;=</span> C_Body</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>is_Doji <span class=\"token operator\">=</span> C_Doji and not C_DragonflyDoji and not C_GravestoneDojiOne</pre></td></tr><tr><td data-num=\"79\"></td><td><pre></pre></td></tr><tr><td data-num=\"80\"></td><td><pre><span class=\"token comment\">// LongLowerShadowInput</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>C_LongLowerShadowPercent <span class=\"token operator\">=</span> <span class=\"token number\">55.0</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>C_LongLowerShadowBullish <span class=\"token operator\">=</span> C_DnShadow <span class=\"token operator\">></span> C_Range<span class=\"token operator\">/</span><span class=\"token number\">100</span><span class=\"token operator\">*</span>C_LongLowerShadowPercent</pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token comment\">// LongUpperShadowInput</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>C_LongShadowPercent <span class=\"token operator\">=</span> <span class=\"token number\">55.0</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>C_LongUpperShadowBearish <span class=\"token operator\">=</span> C_UpShadow <span class=\"token operator\">></span> C_Range<span class=\"token operator\">/</span><span class=\"token number\">100</span><span class=\"token operator\">*</span>C_LongShadowPercent</pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre><span class=\"token comment\">// Bullish</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>is_Bullish_strong <span class=\"token operator\">=</span> C_WhiteBody <span class=\"token function\">and</span> <span class=\"token punctuation\">(</span>C_LongLowerShadowBullish or C_LongBody<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>is_Bullish_weak <span class=\"token operator\">=</span> C_LongLowerShadowBullish <span class=\"token function\">or</span> <span class=\"token punctuation\">(</span>C_WhiteBody <span class=\"token function\">and</span> <span class=\"token punctuation\">(</span>C_Body<span class=\"token operator\">>=</span><span class=\"token number\">0.45</span><span class=\"token operator\">*</span>C_UpShadow or C_Body<span class=\"token operator\">&lt;=</span><span class=\"token number\">0.55</span><span class=\"token operator\">*</span>C_UpShadow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre><span class=\"token comment\">// Bearish</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>is_Bearish_strong <span class=\"token operator\">=</span> C_BlackBody <span class=\"token function\">and</span> <span class=\"token punctuation\">(</span>C_LongUpperShadowBearish or C_LongBody<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>is_Bearish_weak <span class=\"token operator\">=</span> C_LongUpperShadowBearish <span class=\"token function\">or</span> <span class=\"token punctuation\">(</span>C_BlackBody <span class=\"token function\">and</span> <span class=\"token punctuation\">(</span>C_Body<span class=\"token operator\">>=</span><span class=\"token number\">0.45</span><span class=\"token operator\">*</span>C_UpShadow or C_Body<span class=\"token operator\">&lt;=</span><span class=\"token number\">0.55</span><span class=\"token operator\">*</span>C_UpShadow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre></pre></td></tr><tr><td data-num=\"95\"></td><td><pre></pre></td></tr><tr><td data-num=\"96\"></td><td><pre><span class=\"token comment\">// calculate weighting volume</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>weight_bullish <span class=\"token operator\">=</span> <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Doji<span class=\"token punctuation\">,</span> neutral_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_strong<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">+</span>strong_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_strong<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span>strong_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_weak<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">+</span>weak_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_weak<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span>weak_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>     neutral_volume_weighting_factor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>weight_bearish <span class=\"token operator\">=</span> <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Doji<span class=\"token punctuation\">,</span> neutral_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_strong<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span>strong_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_strong<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">+</span>strong_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_weak<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span>weak_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_weak<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">+</span>weak_volume_weighting_factor<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>     neutral_volume_weighting_factor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>volume_bullish <span class=\"token operator\">=</span> volume <span class=\"token operator\">*</span> weight_bullish</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>volume_bearish <span class=\"token operator\">=</span> volume <span class=\"token operator\">*</span> weight_bearish</pre></td></tr><tr><td data-num=\"113\"></td><td><pre></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>bullish_sma <span class=\"token operator\">=</span> showTrend <span class=\"token operator\">?</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>volume_bullish<span class=\"token punctuation\">,</span> trend_ma_length<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na</pre></td></tr><tr><td data-num=\"115\"></td><td><pre>bearish_sma <span class=\"token operator\">=</span> showTrend <span class=\"token operator\">?</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>volume_bearish<span class=\"token punctuation\">,</span> trend_ma_length<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na</pre></td></tr><tr><td data-num=\"116\"></td><td><pre></pre></td></tr><tr><td data-num=\"117\"></td><td><pre><span class=\"token comment\">// plot</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>blue <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>blue</pre></td></tr><tr><td data-num=\"119\"></td><td><pre>green <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>green</pre></td></tr><tr><td data-num=\"120\"></td><td><pre>red <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>red</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>light_green <span class=\"token operator\">=</span> #afd4ab</pre></td></tr><tr><td data-num=\"122\"></td><td><pre>light_red <span class=\"token operator\">=</span> #e39e9c</pre></td></tr><tr><td data-num=\"123\"></td><td><pre>neutral <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>gray</pre></td></tr><tr><td data-num=\"124\"></td><td><pre></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>palette <span class=\"token operator\">=</span> <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Doji<span class=\"token punctuation\">,</span> blue<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_strong<span class=\"token punctuation\">,</span> green<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_strong<span class=\"token punctuation\">,</span> red<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bullish_weak<span class=\"token punctuation\">,</span> light_green<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>     <span class=\"token function\">iff</span><span class=\"token punctuation\">(</span>is_Bearish_weak<span class=\"token punctuation\">,</span> light_red<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>     neutral<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>original_color <span class=\"token operator\">=</span> close<span class=\"token operator\">></span>open<span class=\"token operator\">?</span>green<span class=\"token operator\">:</span>red</pre></td></tr><tr><td data-num=\"133\"></td><td><pre></pre></td></tr><tr><td data-num=\"134\"></td><td><pre><span class=\"token comment\">// plot volume bars</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>showVolume<span class=\"token operator\">?</span> volume <span class=\"token operator\">:</span> na<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'volume'</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>showColor<span class=\"token operator\">?</span>palette<span class=\"token operator\">:</span>original_color<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>     style<span class=\"token operator\">=</span>plot<span class=\"token punctuation\">.</span>style_columns<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span>showColor<span class=\"token operator\">?</span><span class=\"token number\">10</span><span class=\"token operator\">:</span><span class=\"token number\">35</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre></pre></td></tr><tr><td data-num=\"138\"></td><td><pre><span class=\"token comment\">// plot volume trend SMA</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>p1 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>bullish_sma<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Bullish Volume Trend\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>     linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>green<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>p2 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>bearish_sma<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Bearish Volume Trend\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>     linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>red<span class=\"token punctuation\">,</span>   transp<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre></pre></td></tr><tr><td data-num=\"144\"></td><td><pre><span class=\"token comment\">// fill area between volume trend</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span> p2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>bullish_sma<span class=\"token operator\">></span>bearish_sma<span class=\"token operator\">?</span>green<span class=\"token operator\">:</span>red<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">75</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre></pre></td></tr><tr><td data-num=\"147\"></td><td><pre><span class=\"token comment\">// add bgcolor to highlight large volume</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>is_large_volume <span class=\"token operator\">=</span> volume <span class=\"token operator\">></span> <span class=\"token number\">2.25</span> <span class=\"token operator\">*</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>volume<span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre><span class=\"token function\">bgcolor</span><span class=\"token punctuation\">(</span>is_large_volume<span class=\"token operator\">?</span>palette<span class=\"token operator\">:</span>na<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">90</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Highlight large volume'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "WTT Volume",
                "wtt"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/WaveTrend%20with%20Crosses/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/WaveTrend%20with%20Crosses/",
            "title": "WaveTrend with Crosses -LazyBear-",
            "date_published": "2025-02-27T09:31:03.343Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"lonestar108\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/jFQn4jYZ-WaveTrend-with-Crosses-LazyBear/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/04/1hD85cr4P7qWiHz.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/jFQn4jYZ-WaveTrend-with-Crosses-LazyBear/\" class=\"title\">WaveTrend with Crosses -LazyBear-</a>\n        <p class=\"desc\">WaveTrend with Crosses -LazyBear-</p>\n        </div></div></div></p>\n<h2 id=\"lazybears-wavetrend-oscillator-enhanced-with-wavetrend-cross-visualization-on-the-indicator-as-well-as-with-bar-color-highlights\"><a class=\"anchor\" href=\"#lazybears-wavetrend-oscillator-enhanced-with-wavetrend-cross-visualization-on-the-indicator-as-well-as-with-bar-color-highlights\">#</a> LazyBear's wavetrend oscillator enhanced with wavetrend cross visualization on the indicator as well as with bar color highlights.</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// @author LazyBear</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// If you use this code in its original/modified form, do drop me a note.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"WaveTrend with Crosses [LazyBear]\"</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">\"WT_CROSS_LB\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>n1 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Channel Length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>n2 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Average Length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>obLevel1 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Over Bought Level 1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>obLevel2 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">53</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Over Bought Level 2\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>osLevel1 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Over Sold Level 1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>osLevel2 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">53</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Over Sold Level 2\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>ap <span class=\"token operator\">=</span> hlc3</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>esa <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>ap<span class=\"token punctuation\">,</span> n1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>d <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>ap <span class=\"token operator\">-</span> esa<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> n1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ci <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>ap <span class=\"token operator\">-</span> esa<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.015</span> <span class=\"token operator\">*</span> d<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>tci <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>ci<span class=\"token punctuation\">,</span> n2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>wt1 <span class=\"token operator\">=</span> tci</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>wt2 <span class=\"token operator\">=</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>wt1<span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>gray<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>obLevel1<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>red<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>osLevel1<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>green<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>obLevel2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>red<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>osLevel2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>green<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>wt1<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>green<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>wt2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>red<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>wt1<span class=\"token operator\">-</span>wt2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>blue<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>area<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token function\">cross</span><span class=\"token punctuation\">(</span>wt1<span class=\"token punctuation\">,</span> wt2<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> wt2 <span class=\"token operator\">:</span> na<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> black <span class=\"token punctuation\">,</span> style <span class=\"token operator\">=</span> circles<span class=\"token punctuation\">,</span> linewidth <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token function\">cross</span><span class=\"token punctuation\">(</span>wt1<span class=\"token punctuation\">,</span> wt2<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> wt2 <span class=\"token operator\">:</span> na<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>wt2 <span class=\"token operator\">-</span> wt1 <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> red <span class=\"token operator\">:</span> lime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> style <span class=\"token operator\">=</span> circles<span class=\"token punctuation\">,</span> linewidth <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token function\">barcolor</span><span class=\"token punctuation\">(</span><span class=\"token function\">cross</span><span class=\"token punctuation\">(</span>wt1<span class=\"token punctuation\">,</span> wt2<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>wt2 <span class=\"token operator\">-</span> wt1 <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> aqua <span class=\"token operator\">:</span> yellow<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "WaveTrend with Crosses -LazyBear-",
                "LazyBear"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/VWAP%20EMA50%20EMA200/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/VWAP%20EMA50%20EMA200/",
            "title": "VWAP EMA50 EMA200",
            "date_published": "2025-02-27T09:31:03.342Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"A1TradingHub\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/mdk25cuf-VWAP-EMA50-EMA200/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/MsSeuQdTBqA4ckN.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/mdk25cuf-VWAP-EMA50-EMA200/\" class=\"title\">VWAP EMA50 EMA200</a>\n        <p class=\"desc\">The indicator is called \"Super Secret 200 EMA.\" It combines two technical indicators, the Supertrend and the 200 Exponential Moving Average (EMA), to generate buy and sell opportunities in a trading chart.</p>\n        </div></div></div></p>\n<p>We script this one for combining VWAP , EMA50 and EMA200. The tool is fantastic if traders know how VWAP , EMA work? Just adding this script in your favorite and work like charm:</p>\n<p>VWAP: How to trade with that</p>\n<ul>\n<li>One of the simplest uses of the VWAP is gauging support and/or resistance.</li>\n<li>A trader who is long a stock can use the VWAP as a target exit if its trading below.</li>\n<li>A stock trading over intraday VWAP may be bullish , while a stock trading under may be bearish .</li>\n</ul>\n<p>EMA 50/EMA200: How to trade with that timeframe 50-day or 200-day period</p>\n<ul>\n<li>Identify the trend of market in longterm</li>\n<li>Golden-cross (short term EMA cross above longterm EMA ) is call golden-cross signals. It is opportunity for buying.</li>\n<li>Deal-cross ( short term EMA cross below longterm EMA ) is call dead-cross signals. It is opportunity for selling.</li>\n<li>Identify support levels</li>\n<li>Identify resistance levels</li>\n</ul>\n<p>Let me know if you see anything else that should be added/changed.</p>\n<p><a href=\"https://www.tradingview.com/scripts/bottom/\">bottom</a> <a href=\"https://www.tradingview.com/scripts/chart-pattern/\">chart-pattern</a> <a href=\"https://www.tradingview.com/scripts/education/\">education</a> <a href=\"https://www.tradingview.com/scripts/ema/\">Exponential Moving Average (EMA)</a> <a href=\"https://www.tradingview.com/scripts/forecasting/\">forecasting</a> <a href=\"https://www.tradingview.com/scripts/fundamental/\">Fundamental Analysis</a> <a href=\"https://www.tradingview.com/scripts/moving-averages-system/\">moving-averages-system</a> <a href=\"https://www.tradingview.com/scripts/top/\">TOP</a></p>\n<hr />\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=4</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// FrogAlgo LLC</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VWAP/EMA50/EMA200\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>src <span class=\"token operator\">=</span> close</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">//===============================================</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// VWAP</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>vwapval <span class=\"token operator\">=</span>  <span class=\"token function\">vwap</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>emaval50 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>emaval200 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>vwapBoolean <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"VWAP\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ema50Boolean <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA50\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>ema200Boolean <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA200\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>vwapBoolean <span class=\"token operator\">?</span> vwapval<span class=\"token operator\">:</span>na<span class=\"token punctuation\">,</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"VWAP\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>white<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ema50Boolean <span class=\"token operator\">?</span> emaval50<span class=\"token operator\">:</span>na<span class=\"token punctuation\">,</span>  title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 50\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ema200Boolean<span class=\"token operator\">?</span> emaval200<span class=\"token operator\">:</span>na<span class=\"token punctuation\">,</span>  title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 200\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA 200"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/Super%20Secret%20200%20EMA/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/Super%20Secret%20200%20EMA/",
            "title": "Super Secret 200 EMA",
            "date_published": "2025-02-27T09:31:03.341Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"brutaltraderyt\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/IyXNjd7M-Super-Secret-200-EMA/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/YHyCDKlFExiwsfr.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/IyXNjd7M-Super-Secret-200-EMA/\" class=\"title\">Super Secret 200 EMA</a>\n        <p class=\"desc\">The indicator is called \"Super Secret 200 EMA.\" It combines two technical indicators, the Supertrend and the 200 Exponential Moving Average (EMA), to generate buy and sell opportunities in a trading chart.</p>\n        </div></div></div></p>\n<p>The indicator is called &quot;Super Secret 200 EMA.&quot; It combines two technical indicators, the Supertrend and the 200 Exponential Moving Average (EMA), to generate buy and sell opportunities in a trading chart.</p>\n<p>Here's how the indicator works and how you can use it:</p>\n<p>Supertrend Calculation:</p>\n<p>The Supertrend indicator helps identify the current trend in the market. It uses two parameters: Length and Multiplier.<br />\nLength: This parameter determines the number of periods used for the calculation.<br />\nMultiplier: It controls the width of the Supertrend line, indicating the level of volatility considered in the calculation.<br />\nThe Supertrend is calculated by looping through the historical data from length to 1.<br />\nFor each period, it checks whether the closing price has increased or decreased compared to the previous period.<br />\nIf the closing price has increased, it updates the highestHigh value with the maximum of the current highest high and the high of the current period.<br />\nIf the closing price has decreased, it updates the lowestLow value with the minimum of the current lowest low and the low of the current period.<br />\nFinally, it calculates the Supertrend value using the following formula:<br />\nIf the change in the closing price is positive: Supertrend = lowestLow + (multiplier _ Average True Range (ATR))<br />\nIf the change in the closing price is negative: Supertrend = highestHigh - (multiplier _ ATR)<br />\nThe Supertrend line will be green if it is above the 200 EMA line and red if it is below.<br />\n200 EMA Calculation:</p>\n<p>The 200 EMA is a widely used moving average indicator that gives more weight to recent prices.<br />\nThe EMA period is set to 200 in this case.<br />\nThe 200 EMA is calculated using the EMA formula, taking into account the closing prices over the specified period.<br />\nPlotting:</p>\n<p>The Supertrend and 200 EMA lines are plotted on the chart using the plot function.<br />\nThe Supertrend line is colored green if it is above the 200 EMA line and red if it is below.<br />\nThe 200 EMA line is colored green if the closing price is above it and red if it is below.<br />\nBuy and Sell Conditions:</p>\n<p>The indicator determines the buy and sell conditions based on the crossover and crossunder of the closing price with the 200 EMA line and the Supertrend line.<br />\nBuy Condition: A buy signal is generated when the closing price crosses above the 200 EMA line and is also above the Supertrend line.<br />\nSell Condition: A sell signal is generated when the closing price crosses below the 200 EMA line and is also below the Supertrend line.<br />\nPlotting Buy and Sell Signals:</p>\n<p>You can use this indicator to identify potential buy and sell opportunities in your trading strategy. However, please note that this is a simplified explanation, and it's essential to thoroughly understand the indicator's principles and backtest it with historical data before relying on it for actual trading decisions.</p>\n<p>Use this with other confluences for best results and never rely on a single indicator</p>\n<p><a href=\"https://www.tradingview.com/scripts/200/\">200</a> <a href=\"https://www.tradingview.com/scripts/200ma/\">200ma</a> <a href=\"https://www.tradingview.com/scripts/bandsandchannels/\">Bands and Channels</a> <a href=\"https://www.tradingview.com/scripts/chartpatterns/\">Chart patterns</a> <a href=\"https://www.tradingview.com/scripts/moving_average/\">moving_average</a> <a href=\"https://www.tradingview.com/scripts/movingaverage/\">Moving Averages</a> <a href=\"https://www.tradingview.com/scripts/movingaveragecrossover/\">movingaveragecrossover</a></p>\n<hr />\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=5</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">indicator</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Super Secret 200 EMA\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>length <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Supertrend Length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>multiplier <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">float</span><span class=\"token punctuation\">(</span><span class=\"token number\">3.0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Supertrend Multiplier\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>emaPeriod <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"EMA Period\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// Calculate Supertrend</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">var</span> float supertrend <span class=\"token operator\">=</span> na</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">var</span> float highestHigh <span class=\"token operator\">=</span> na</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">var</span> float lowestLow <span class=\"token operator\">=</span> na</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">for</span> i <span class=\"token operator\">=</span> length to <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token literal-property property\">highestHigh</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>highestHigh<span class=\"token punctuation\">,</span> high<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token literal-property property\">lowestLow</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>lowestLow<span class=\"token punctuation\">,</span> low<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token literal-property property\">supertrend</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> lowestLow <span class=\"token operator\">+</span> multiplier <span class=\"token operator\">*</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">atr</span><span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> highestHigh <span class=\"token operator\">-</span> multiplier <span class=\"token operator\">*</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">atr</span><span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>supertrendColor <span class=\"token operator\">=</span> supertrend <span class=\"token operator\">></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> emaPeriod<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> color<span class=\"token punctuation\">.</span>green <span class=\"token operator\">:</span> color<span class=\"token punctuation\">.</span>red</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// Calculate 200 EMA</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>ema200 <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> emaPeriod<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>emaColor <span class=\"token operator\">=</span> close <span class=\"token operator\">></span> ema200 <span class=\"token operator\">?</span> color<span class=\"token punctuation\">.</span>green <span class=\"token operator\">:</span> color<span class=\"token punctuation\">.</span>red</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// Plot Supertrend and EMA</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>supertrend<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>supertrendColor<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Supertrend\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ema200<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>emaColor<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"200 EMA\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\">// Determine Buy and Sell Conditions</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>buyCondition <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">crossover</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> ema200<span class=\"token punctuation\">)</span> and close <span class=\"token operator\">></span> supertrend</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>sellCondition <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">crossunder</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> ema200<span class=\"token punctuation\">)</span> and close <span class=\"token operator\">&lt;</span> supertrend</pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">// Plot Buy and Sell Signals</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token function\">plotshape</span><span class=\"token punctuation\">(</span>buyCondition<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Buy Signal\"</span><span class=\"token punctuation\">,</span> location<span class=\"token operator\">=</span>location<span class=\"token punctuation\">.</span>belowbar<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>shape<span class=\"token punctuation\">.</span>labelup<span class=\"token punctuation\">,</span> text<span class=\"token operator\">=</span><span class=\"token string\">\"Buy\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token function\">plotshape</span><span class=\"token punctuation\">(</span>sellCondition<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Sell Signal\"</span><span class=\"token punctuation\">,</span> location<span class=\"token operator\">=</span>location<span class=\"token punctuation\">.</span>abovebar<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>red<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>shape<span class=\"token punctuation\">.</span>labeldown<span class=\"token punctuation\">,</span> text<span class=\"token operator\">=</span><span class=\"token string\">\"Sell\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA 200"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/PineScript/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/PineScript/",
            "title": "PineScript",
            "date_published": "2025-02-27T09:31:03.339Z",
            "content_html": "<p> \n<iframe width=\"560\" height=\"315\" src=\"https://player.bilibili.com/player.html?isOutside=true&aid=269784647&bvid=BV1Dc411H7QG&cid=1091435650&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"700\" height=\"500\"> </iframe>\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/NdwQJEV4Avo?si=-F8UQiWwsOXFLNrv\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>\n\n</p>\n<p><div class=\"links\"><div class=\"item\" title=\"Bitget\" style=\"--block-color:#00b8cc;\"><a href=\"https://www.bitget.com/academy/Beginners-Guide-to-Using-TradingView-to-Trade-Crypto-on-Bitget\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/14/xkg1IALjR3tH2Wc.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.bitget.com/academy/Beginners-Guide-to-Using-TradingView-to-Trade-Crypto-on-Bitget\" class=\"title\">Bitget link to the TradingView</a>\n        <p class=\"desc\">Bitget link to the TradingView</p>\n        </div></div><div class=\"item\" title=\"OKX\" style=\"--block-color:#b8c5d3;\"><a href=\"https://www.okx.com/zh-hans/help/how-to-set-up-signal-trading-bot-with-tradingview\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/14/jVat2Lp3AvfT47s.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.okx.com/zh-hans/help/how-to-set-up-signal-trading-bot-with-tradingview\" class=\"title\">OKX link to the TradingView （Signaling Strategy）</a>\n        <p class=\"desc\">OKX link to the TradingView （Signaling Strategy）</p>\n        </div></div><div class=\"item\" title=\"OKX\" style=\"--block-color:#b8c5d3;\"><a href=\"https://www.tradingview.com/pine-script-docs/v4/welcome/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/14/fTrh6qFY5BH17eX.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/pine-script-docs/v4/welcome/\" class=\"title\">PineScript Document</a>\n        <p class=\"desc\">PineScript Document</p>\n        </div></div></div></p>\n",
            "tags": [
                "TradingView",
                "PineScript",
                "TradingView"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/MVRV%20Z%20Score%20and%20MVRV%20Free%20Float%20Z-Score/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/MVRV%20Z%20Score%20and%20MVRV%20Free%20Float%20Z-Score/",
            "title": "MVRV Z Score and MVRV Free Float Z-Score",
            "date_published": "2025-02-27T09:31:03.338Z",
            "content_html": "<h1 id=\"mvrv-z-score-and-mvrv-free-float-z-score\"><a class=\"anchor\" href=\"#mvrv-z-score-and-mvrv-free-float-z-score\">#</a> MVRV Z Score and MVRV Free Float Z-Score</h1>\n<p><div class=\"links\"><div class=\"item\" title=\"PowerScooter\" style=\"--block-color:#bc7d4c;\"><a href=\"https://tw.tradingview.com/script/v3TqVthK-MVRV-Z-Score-and-MVRV-Free-Float-Z-Score/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/13/bGOdNWMwhuyX7os.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://tw.tradingview.com/script/v3TqVthK-MVRV-Z-Score-and-MVRV-Free-Float-Z-Score/\" class=\"title\">MVRV Z Score and MVRV Free Float Z-Score</a>\n        <p class=\"desc\">MVRV Z Score and MVRV Free Float Z-Score</p>\n        </div></div></div></p>\n<p><strong>IMPORTANT:</strong> This script needs as much historic data as possible. Please run it on <a href=\"https://tw.tradingview.com/symbols/BTCUSD/?exchange=INDEX\">BTCUSD</a>, <a href=\"https://tw.tradingview.com/symbols/BLX/?exchange=BNC\">BLX</a> or another chart of sufficient length.</p>\n<p><strong>MVRV</strong><br />\nThe MVRV (Market Value to Realised Value Ratio) simply divides bitcoins market cap by bitcoins realized market cap. This was previously impossible on Tradingview but has now been made possible thanks to Coinmetrics providing us with the realized market cap data.<br />\nIn the free float version, the free float market cap is used instead of the regular market cap.</p>\n<p><strong>Z-Score</strong><br />\nThe MVRV Z-score divides the difference between Market cap and realized market cap by the historic standard deviation of the market cap.<br />\nHistorically, this has been insanely accurate at detecting bitcoin tops and bottoms:<br />\nA Z-Score above 7 means bitcoin is vastly overpriced and at a local top.<br />\nA Z-Score below 0.1 means bitcoin is underpriced and at a local bottom.</p>\n<p>In the free float version, the free float market cap is used instead of the regular market cap.</p>\n<p>The Z-Score, also known as the standard score is hugely popular in a wide range of mathematical and statistical fields and is usually used to measure the number of standard deviations by which the value of a raw score is above or below the mean value of what is being observed or measured.</p>\n<p><strong>Credits</strong><br />\nMVRV Z Score initially created by aweandwonder<br />\nMVRV initially created by Murad Mahmudov and David Puell</p>\n<hr />\n<h2 id=\"開源腳本\"><a class=\"anchor\" href=\"#開源腳本\">#</a> 開源腳本</h2>\n<p>在真正的 TradingView 精神中，這個腳本的作者以開源的方式發佈，這樣交易員可以理解和驗證它。請向作者致敬！您可以免費使用它，但在出版物中再次使用這段程式碼將受到<a href=\"https://tw.tradingview.com/house-rules/?solution=43000590599\">網站規則</a>的約束。 您可以收藏它以在圖表上使用。</p>\n<h2 id=\"想在圖表上使用此腳本\"><a class=\"anchor\" href=\"#想在圖表上使用此腳本\">#</a> 想在圖表上使用此腳本？</h2>\n<p>Pine Script™策略</p>\n<h2 id=\"mvrv-z-score-and-mvrv-free-float-z-score-2\"><a class=\"anchor\" href=\"#mvrv-z-score-and-mvrv-free-float-z-score-2\">#</a> MVRV Z Score and MVRV Free Float Z-Score</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// © Powerscooter  </span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">//@version=5  </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">strategy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MVRV Z Score and MVRV Free Float Z-Score\"</span><span class=\"token punctuation\">,</span>shorttitle <span class=\"token operator\">=</span> <span class=\"token string\">\"MVRV Z Score\"</span><span class=\"token punctuation\">,</span>precision<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>default_qty_type <span class=\"token operator\">=</span> strategy<span class=\"token punctuation\">.</span>cash<span class=\"token punctuation\">,</span> default_qty_value <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> initial_capital <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">//Inputs  </span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Strategymode <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">bool</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Strategy Mode\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Switches between indicator and strategy mode.\"</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Calculation <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Standard\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Calculation Method\"</span><span class=\"token punctuation\">,</span>options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Standard\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Free Float\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> tooltip <span class=\"token operator\">=</span> <span class=\"token string\">\"The standard calculation uses the market cap while the free float version uses the free float market cap.\"</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Source <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Glassnode\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Market Cap Source\"</span><span class=\"token punctuation\">,</span>options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Glassnode\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Coinmetrics\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Upper <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">float</span><span class=\"token punctuation\">(</span><span class=\"token number\">7.0</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Upper Line\"</span><span class=\"token punctuation\">,</span>tooltip<span class=\"token operator\">=</span><span class=\"token string\">\"Z-Score value above which a sell signal is given, standard is 7.\"</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Lower <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">float</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Lower Line\"</span><span class=\"token punctuation\">,</span>tooltip<span class=\"token operator\">=</span><span class=\"token string\">\"Z-Score value below which a buy signal is given, standard is 0.1.\"</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">//Query  </span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token constant\">MC1</span> <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">security</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GLASSNODE:BTC_MARKETCAP\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span>close<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token constant\">MC2</span> <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">security</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CRYPTOCAP:BTC\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span>close<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token constant\">MCF</span> <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">security</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"COINMETRICS:BTC_MARKETCAPFF\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span>close<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token constant\">MCR</span> <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">security</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"COINMETRICS:BTC_MARKETCAPREAL\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span>close<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">//Initialize var  </span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">var</span> float <span class=\"token constant\">MC</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  </pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">var</span> <span class=\"token constant\">MCA</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>new<span class=\"token operator\">&lt;</span>float<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">var</span> float <span class=\"token constant\">MVRV</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">var</span> float Zscore <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  </pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//Calculations  </span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">if</span> Source<span class=\"token operator\">==</span><span class=\"token string\">\"Glassnode\"</span>  </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token constant\">MC</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token constant\">MC1</span>  </pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">else</span>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token constant\">MC</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token constant\">MC2</span>  </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>array<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MCA</span><span class=\"token punctuation\">,</span><span class=\"token constant\">MC</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>StdDevA <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">stdev</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MCA</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">if</span> Calculation<span class=\"token operator\">==</span><span class=\"token string\">\"Standard\"</span>  </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token constant\">MVRV</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token constant\">MC</span><span class=\"token operator\">/</span><span class=\"token constant\">MCR</span>  </pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token keyword\">if</span> Calculation<span class=\"token operator\">==</span><span class=\"token string\">\"Free Float\"</span>  </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token constant\">MVRV</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token constant\">MCF</span><span class=\"token operator\">/</span><span class=\"token constant\">MCR</span>  </pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">if</span> Calculation<span class=\"token operator\">==</span><span class=\"token string\">\"Standard\"</span>    </pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    Zscore <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">MC</span><span class=\"token operator\">-</span><span class=\"token constant\">MCR</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>StdDevA  </pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">if</span> Calculation<span class=\"token operator\">==</span><span class=\"token string\">\"Free Float\"</span>    </pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    Zscore <span class=\"token operator\">:</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">MCF</span><span class=\"token operator\">-</span><span class=\"token constant\">MCR</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>StdDevA  </pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">//Plotting  </span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>MVRVplot <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MVRV</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MVRV\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">,</span>transp<span class=\"token operator\">=</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"39\"></td><td><pre>Zplot <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>Zscore<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Z-score\"</span><span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span>linewidth <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"40\"></td><td><pre>UpperLine <span class=\"token operator\">=</span> Zscore<span class=\"token operator\">>=</span>Upper<span class=\"token operator\">?</span>Upper<span class=\"token operator\">:</span>na  </pre></td></tr><tr><td data-num=\"41\"></td><td><pre>LowerLine <span class=\"token operator\">=</span> Zscore<span class=\"token operator\">&lt;=</span>Lower<span class=\"token operator\">?</span>Lower<span class=\"token operator\">:</span>na  </pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token comment\">//Lower and UpperLine are undefined when Zscore isn't close to them so they don't affect panel scaling.  </span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>UpperPlot <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>UpperLine<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> trackprice <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>red<span class=\"token punctuation\">,</span> display<span class=\"token operator\">=</span>display<span class=\"token punctuation\">.</span>all<span class=\"token operator\">-</span>display<span class=\"token punctuation\">.</span>status_line<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"44\"></td><td><pre>LowerPlot <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>LowerLine<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> trackprice <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">,</span> display<span class=\"token operator\">=</span>display<span class=\"token punctuation\">.</span>all<span class=\"token operator\">-</span>display<span class=\"token punctuation\">.</span>status_line<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>plot1<span class=\"token operator\">=</span>Zplot<span class=\"token punctuation\">,</span>plot2<span class=\"token operator\">=</span>UpperPlot<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>red<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>plot1<span class=\"token operator\">=</span>Zplot<span class=\"token punctuation\">,</span>plot2<span class=\"token operator\">=</span>LowerPlot<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">,</span> transp<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">//Order Conditions  </span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>Long <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">crossunder</span><span class=\"token punctuation\">(</span>Zscore<span class=\"token punctuation\">,</span>Lower<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"49\"></td><td><pre>TakeProfit <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">crossover</span><span class=\"token punctuation\">(</span>Zscore<span class=\"token punctuation\">,</span>Upper<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token comment\">//Execution  </span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token keyword\">if</span> Long and Strategymode  </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    strategy<span class=\"token punctuation\">.</span><span class=\"token function\">entry</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Long\"</span><span class=\"token punctuation\">,</span>strategy<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token keyword\">if</span> TakeProfit and Strategymode  </pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    strategy<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Long\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "MVRV Z Score"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/HOW-TO%20use%20Zero-Lag%20EMA%2021%20to%20track%20Bitcoin%20Trend%20($M%20Eric)/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/HOW-TO%20use%20Zero-Lag%20EMA%2021%20to%20track%20Bitcoin%20Trend%20($M%20Eric)/",
            "title": "HOW-TO use Zero-Lag EMA 21 to track Bitcoin Trend ($M Eric)",
            "date_published": "2025-02-27T09:31:03.337Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"blackcat1402\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/chart/BTCUSDT/OGX5QOA6-HOW-TO-use-Zero-Lag-EMA-21-to-track-Bitcoin-Trend-M-Eric/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/zGEnkqC39bIUDN7.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/chart/BTCUSDT/OGX5QOA6-HOW-TO-use-Zero-Lag-EMA-21-to-track-Bitcoin-Trend-M-Eric/\" class=\"title\">HOW-TO use Zero-Lag EMA 21 to track Bitcoin Trend ($M Eric)</a>\n        <p class=\"desc\">The Zero-Lag EMA Band is calculated by taking the standard deviation of the price data and adding or subtracting it from the Zero-Lag EMA to create an upper band and a lower band. This process results in a trend band that can help traders identify potential support and resistance levels, providing them with a more accurate assessment of the market's behavior.</p>\n        </div></div></div></p>\n<p>This idea is from Million Eric on X. I am his follower and try to convert his idea into a Pine Script with my understanding of technical indicators. The Zero-Lag EMA Band is a sophisticated technical analysis tool designed to provide traders with a comprehensive view of market trends. This innovative indicator merges the Zero-Lag EMA, a derivative of the traditional Exponential Moving Average, with Bollinger Bands to create a unique trend indicator that is less laggy and more responsive to market changes.</p>\n<p>The Zero-Lag EMA Band is calculated by taking the standard deviation of the price data and adding or subtracting it from the Zero-Lag EMA to create an upper band and a lower band. This process results in a trend band that can help traders identify potential support and resistance levels, providing them with a more accurate assessment of the market's behavior.</p>\n<p>The Zero-Lag EMA Band is particularly useful for traders who need to react quickly to market changes. It offers a more timely assessment of potential trend reversals, allowing traders to capitalize on market opportunities and mitigate risk.</p>\n<p>The indicator's design is based on the principle of Zero-Lag, which aims to reduce the lag associated with traditional EMAs. This feature makes the Zero-Lag EMA Band a powerful tool for traders who want to stay ahead of the market and make more informed decisions.</p>\n<p>In summary, the Zero-Lag EMA Band is a comprehensive and responsive tool for traders looking to identify and capitalize on market trends. It is a valuable addition to any trader's toolkit, offering a more accurate and timely assessment of potential trend reversals and providing a more comprehensive view of the market's behavior.</p>\n<p>Certainly! Let's go through the Pine Script code line by line to understand its functionality:</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=5</span></pre></td></tr></table></figure><p>This line specifies the version of Pine Script being used. In this case, it's version 5.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">indicator</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[blackcat] L1 Zero-Lag EMA Band'</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">'L1 ZLEMA Band'</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>This line defines the indicator with a title and a short title. The  <code>overlay=true</code>  parameter means that the indicator will be plotted on top of the price data.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>length <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Length'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>This line creates an input field for the user to specify the length of the EMA. The default value is 21, and the minimum value is 1.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mult <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Multiplier'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>This line creates an input field for the user to specify the multiplier for the standard deviation, which is used to calculate the bands around the EMA. The default value is 1.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>src <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Source\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>This line creates an input field for the user to specify the data source for the EMA calculation. The default value is the closing price of the asset.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Define the smoothing factor (alpha) for the EMA</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>alpha <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>length <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>This line calculates the smoothing factor alpha for the EMA. It's a common formula for EMA calculation.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Initialize a variable to store the previous EMA value</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">var</span> float prevEMA <span class=\"token operator\">=</span> na</pre></td></tr></table></figure><p>This line initializes a variable to store the previous EMA value. It's initialized as  <code>na</code>  (not a number), which means it's not yet initialized.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Calculate the zero-lag EMA</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>emaValue <span class=\"token operator\">=</span> <span class=\"token function\">na</span><span class=\"token punctuation\">(</span>prevEMA<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>src <span class=\"token operator\">-</span> prevEMA<span class=\"token punctuation\">)</span> \\<span class=\"token operator\">*</span> alpha <span class=\"token operator\">+</span> prevEMA</pre></td></tr></table></figure><p>This line calculates the zero-lag EMA. If  <code>prevEMA</code>  is not a number (which means it's the first calculation), it uses the simple moving average (SMA) as the initial EMA. Otherwise, it uses the standard EMA formula.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Update the previous EMA value</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token literal-property property\">prevEMA</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> emaValue</pre></td></tr></table></figure><p>This line updates the  <code>prevEMA</code>  variable with the newly calculated EMA value. The  <code>:=</code>  operator is used to update the variable in Pine Script.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Calculate the upper and lower bands</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>dev <span class=\"token operator\">=</span> mult \\<span class=\"token operator\">*</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">stdev</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>upperBand <span class=\"token operator\">=</span> emaValue <span class=\"token operator\">+</span> dev</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>lowerBand <span class=\"token operator\">=</span> emaValue <span class=\"token operator\">-</span> dev</pre></td></tr></table></figure><p>Expand 1 line</p>\n<p>These lines calculate the upper and lower bands around the EMA. The bands are calculated by adding and subtracting the product of the multiplier and the standard deviation of the source data over the specified length.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Plot the bands</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>p0 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>emaValue<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>p1 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>upperBand<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>p2 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>lowerBand<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span> p2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>fuchsia<span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>Expand 2 lines</p>\n<p>These lines plot the EMA value, upper band, and lower band on the chart. The  <code>fill</code>  function is used to color the area between the upper and lower bands. The  <code>color.new</code>  function is used to create a new color with a specified alpha value (transparency).</p>\n<p>In summary, this script creates an indicator that displays the zero-lag EMA and its bands on a trading chart. The user can specify the length of the EMA and the multiplier for the standard deviation. The bands are used to identify potential support and resistance levels for the asset's price.</p>\n<p>In the context of the provided Pine Script code,  <code>prevEMA</code>  is a variable used to store the previous value of the Exponential Moving Average (EMA). The EMA is a type of moving average that places a greater weight on the most recent data points. Unlike a simple moving average (SMA), which is an equal-weighted average, the EMA gives more weight to the most recent data points, which can help to smooth out short-term price fluctuations and highlight the long-term trend.</p>\n<p>The  <code>prevEMA</code>  variable is used to calculate the current EMA value. When the script runs for the first time,  <code>prevEMA</code>  will be  <code>na</code>  (not a number), indicating that there is no previous EMA value to use in the calculation. In such cases, the script falls back to using the simple moving average (SMA) as the initial EMA value.</p>\n<p>Here's a breakdown of the role of  <code>prevEMA</code> :</p>\n<ol>\n<li>\n<p><strong>Initialization</strong>: On the first bar,  <code>prevEMA</code>  is  <code>na</code> , so the script uses the SMA of the close price over the specified period as the initial EMA value.</p>\n</li>\n<li>\n<p><strong>Calculation</strong>: On subsequent bars,  <code>prevEMA</code>  holds the value of the EMA from the previous bar. This value is used in the EMA calculation to give more weight to the most recent data points.</p>\n</li>\n<li>\n<p><strong>Update</strong>: After calculating the current EMA value,  <code>prevEMA</code>  is updated with the new EMA value so it can be used in the next bar's calculation.</p>\n</li>\n</ol>\n<p>The purpose of  <code>prevEMA</code>  is to maintain the state of the EMA across different bars, ensuring that the EMA calculation is not reset to the SMA on each new bar. This is crucial for the EMA to function properly and to avoid the &quot;lag&quot; that can sometimes be associated with moving averages, especially when the length of the moving average is short.</p>\n<p>In the provided script,  <code>prevEMA</code>  is used to simulate a zero-lag EMA, but as mentioned earlier, there is no such thing as a zero-lag EMA in the traditional sense. The EMA already has a very minimal lag due to its recursive nature, and any attempt to reduce the lag further would likely not be accurate or reliable for trading purposes.</p>\n<p>Please note that the script provided is a conceptual example and may not be suitable for actual trading without further testing and validation.</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=5</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">indicator</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[blackcat] L1 Zero-Lag EMA Band'</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">'L1 ZLEMA Band'</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>length <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Length'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>mult <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Multiplier'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>src <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">source</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Source\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// Define the smoothing factor (alpha) for the EMA</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>alpha <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>length <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// Initialize a variable to store the previous EMA value</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">var</span> float prevEMA <span class=\"token operator\">=</span> na</pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// Calculate the zero-lag EMA</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>emaValue <span class=\"token operator\">=</span> <span class=\"token function\">na</span><span class=\"token punctuation\">(</span>prevEMA<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>src <span class=\"token operator\">-</span> prevEMA<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> alpha <span class=\"token operator\">+</span> prevEMA</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">// Update the previous EMA value</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token literal-property property\">prevEMA</span> <span class=\"token operator\">:</span><span class=\"token operator\">=</span> emaValue</pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// Calculate the upper and lower bands</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>dev <span class=\"token operator\">=</span> mult <span class=\"token operator\">*</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">stdev</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>upperBand <span class=\"token operator\">=</span> emaValue <span class=\"token operator\">+</span> dev</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>lowerBand <span class=\"token operator\">=</span> emaValue <span class=\"token operator\">-</span> dev</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">// Plot the bands</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>p0 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>emaValue<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>p1 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>upperBand<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>p2 <span class=\"token operator\">=</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>lowerBand<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">,</span> p2<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span>fuchsia<span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA21"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA50,%20EMA100,%20EMA200/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA50,%20EMA100,%20EMA200/",
            "title": "EMA50, EMA100, EMA200",
            "date_published": "2025-02-27T09:31:03.335Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"ali_011\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/cChWMejJ/\" class=\"image\" data-background-image=\"/assets/404.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/cChWMejJ/\" class=\"title\">EMA50, EMA100, EMA200</a>\n        <p class=\"desc\">EMA50, EMA100, EMA200</p>\n        </div></div></div></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//For TRI'ers with a stinky trading view account.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">//Some reccomended moving averages including the institutional moving averages.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">//Much love to Brian for changing our lives.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Moving Averages: EMA50, EMA100, EMA200\"</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">\"EMA50, EMA100, EMA200\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>src <span class=\"token operator\">=</span> close</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>ema50 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>ema100 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>ema200 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span> ema50<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>red<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA50\"</span><span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span> ema100<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>black<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA100\"</span><span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span> ema200<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>green<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA200\"</span><span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA50",
                "EMA100",
                "EMA200"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA21%20Speed%20&%20Accel/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA21%20Speed%20&%20Accel/",
            "title": "EMA21 Speed & Accel",
            "date_published": "2025-02-27T09:31:03.334Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"Saltapones\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/omlpqq5X/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/8LE4OlZq5Un3Ykh.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/omlpqq5X/\" class=\"title\">EMA21 Speed & Accel</a>\n        <p class=\"desc\">The script calculates an plots first and second derivatives of a EMA of \"length\" periods, with a default value of 21 periods.</p>\n        </div></div></div></p>\n<p>Aug 18, 2020The script calculates an plots first and second derivatives of a EMA of &quot;length&quot; periods, with a default value of 21 periods.</p>\n<ul>\n<li>Blue curve is the first derivative of the EMA, which can be interpreted as the &quot;speed&quot; , &quot;slope&quot;, or percentage of gains (or loses) walking over the EMA, measured in % per period. If timeframe is Days, it will show a %/day on the scale @ the right of graphic.</li>\n<li>Fuchsia curve is the second derivative of the EMA, and can be assumed to be the &quot;acceleration&quot; or driving force that could augment or diminish the EMA Speed.</li>\n</ul>\n<p>When Speed &amp; Acceleration ar both &gt;=0, EMA is in positive rally, and becoming stepper, so the bacground is colored green.</p>\n<p>First and second derivatoves are performed using &quot;basis functions&quot;, as are applied in FEM implementation.</p>\n<hr />\n<p>El Script calcula y plotea la primera y segunga derivada de una EMA de &quot;length&quot; períodos, con un valor por defecto de 21.</p>\n<ul>\n<li>La curva azul es la primera derivada de la EMA; que puede ser interpretada conmo su &quot;velocidad&quot;, &quot;pendiente&quot; o % de ganancia o pérdida que se tendría sobre la EMA. Cuando la unidad de tiempo del gráfico es Días, permite visualizar en la escala de la derecha el % de ganancia o pérdida por día.</li>\n<li>La curva Fucsia muestra la segunda derivada, o &quot;Aceleración&quot;, que se puede interpretar como la fuerza que puede aumentar o dismu¿inuir la pendiente de la EMA.</li>\n</ul>\n<p>Cuando la Velocidad y Aceleración son mayores que cero, las ganancias aumentan cada período, y el findo de colorea de verde.</p>\n<p>Las derivadas primera y segunda se calculan usando técnicas de funciones de forma, como las aplicadas en el MEF.</p>\n<p>Oct 5, 2020</p>\n<p>Release Notes</p>\n<p>Scale of EMA Acceleration (curvature) is calculated automatically</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=4</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"EMA21 Speed &amp; Accel\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// Variable definition</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token constant\">NP</span> <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Number of Periods to use in finite difference derivatives\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">//  CURVSC = input(0.1, minval=0, title=\"Accel Plot Scale\")  // Not used in this release</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>len1 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA Length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>out1 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// background color when speed &amp; acceleration are >=0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>verdeclaro<span class=\"token operator\">=</span>#98FB98</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>blanco<span class=\"token operator\">=</span>#<span class=\"token constant\">FFFFFF</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// SLOW MA Derivative (Speed in %/Period) Calculation (over NP periods)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token constant\">SMAS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1.50</span><span class=\"token operator\">*</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">[</span><span class=\"token constant\">NP</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">0.5</span><span class=\"token operator\">*</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token constant\">NP</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token constant\">NP</span><span class=\"token operator\">*</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// derivada con tres puntos</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// Se plotea SMASMA para suavizar un poco</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token constant\">SMASMA</span> <span class=\"token operator\">=</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SMAS</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SMASMA</span><span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"%-per-day\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// SMAS Derivative (Curvature = acceleration in %/period/period )  = Speed derivative = Acceleration</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token constant\">CURV</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">[</span><span class=\"token constant\">NP</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token constant\">NP</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token constant\">NP</span><span class=\"token operator\">*</span><span class=\"token constant\">NP</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// derivada SEGUNDA con tres puntos</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token constant\">CURVMA</span> <span class=\"token operator\">=</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURV</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">// Scale Curvature</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>maxslope<span class=\"token operator\">=</span><span class=\"token function\">highest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SMASMA</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>maxcurvature<span class=\"token operator\">=</span><span class=\"token function\">highest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURVMA</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>scale<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>maxslope<span class=\"token operator\">/</span>maxcurvature</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token function\">iff</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURVMA</span><span class=\"token operator\">></span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURVMA</span><span class=\"token operator\">*</span>scale<span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURVMA</span><span class=\"token operator\">*</span>scale<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"CURV\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>fuchsia<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">// Colorear verde claro u oscuro en función de CURV >=0 and/or SMASMA >=0</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token function\">bgcolor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CURVMA</span><span class=\"token operator\">>=</span><span class=\"token number\">0</span> and <span class=\"token constant\">SMASMA</span><span class=\"token operator\">>=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> verdeclaro <span class=\"token operator\">:</span> blanco<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre> transp<span class=\"token operator\">=</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">//  Se plotea el eje de abscisas</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>black<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA21"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA21%2055%20Crossover%20Alert/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA21%2055%20Crossover%20Alert/",
            "title": "EMA21 55 Crossover Alert",
            "date_published": "2025-02-27T09:31:03.332Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"cowboycraig\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/ZOiaexGK-EMA21-55-Crossover-Alert/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/ZTO1sqQSmlWxpvD.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/ZOiaexGK-EMA21-55-Crossover-Alert/\" class=\"title\">EMA 8, 21 and SMA 50 from daily timeframe horizontal lines</a>\n        <p class=\"desc\">EMA 8, 21 and SMA 50 from daily timeframe horizontal lines</p>\n        </div></div></div></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//@version=1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA21/55CrossoverAlert\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// Input options</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token constant\">EMA_21</span> <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 21\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>integer<span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token constant\">EMA_55</span> <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 55\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>integer<span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">55</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// Calculate values</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Alert_EMA_21 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token constant\">EMA_21</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Alert_EMA_55 <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token constant\">EMA_55</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// Create Buy/Sell Arrows</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// plotshape(Buy, color=green, style=shape.arrowup, text=\"Buy\", location=location.bottom)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// plotshape(Sell, color=red, style=shape.arrowdown, text=\"Sell\", location=location.top)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// Show on Chart</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>Alert_EMA_21<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> white<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>Alert_EMA_55<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> lime<span class=\"token punctuation\">,</span> linewidth<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// Create alert conditions</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token function\">alertcondition</span><span class=\"token punctuation\">(</span>condition<span class=\"token operator\">=</span><span class=\"token function\">crossover</span><span class=\"token punctuation\">(</span>Alert_EMA_21<span class=\"token punctuation\">,</span> Alert_EMA_55<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 21 Cross Above\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     message<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 21 crossed over EMA 55.\"</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token function\">alertcondition</span><span class=\"token punctuation\">(</span>condition<span class=\"token operator\">=</span><span class=\"token function\">crossunder</span><span class=\"token punctuation\">(</span>Alert_EMA_21<span class=\"token punctuation\">,</span> Alert_EMA_55<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 55 Cross Above\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     message<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 55 crossed over EMA 21.\"</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">// EMA trend bar color</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token function\">TrendingUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Alert_EMA_21 <span class=\"token operator\">></span> Alert_EMA_55</pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token function\">TrendingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Alert_EMA_21 <span class=\"token operator\">&lt;</span> Alert_EMA_55</pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token function\">barcolor</span><span class=\"token punctuation\">(</span><span class=\"token function\">TrendingUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> green <span class=\"token operator\">:</span> <span class=\"token function\">TrendingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> red <span class=\"token operator\">:</span> blue<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token comment\">// EMA cross background color alert to chart (Tall Candle)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token function\">Uptrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">TrendingUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> and <span class=\"token function\">TrendingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token function\">Downtrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">TrendingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> and <span class=\"token function\">TrendingUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token function\">bgcolor</span><span class=\"token punctuation\">(</span><span class=\"token function\">Uptrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> green <span class=\"token operator\">:</span> <span class=\"token function\">Downtrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> red <span class=\"token operator\">:</span> na<span class=\"token punctuation\">,</span>transp<span class=\"token operator\">=</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">// Buy and sell alert (Arrow bottom of Chart, using variables from above)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>Buy <span class=\"token operator\">=</span> <span class=\"token function\">Uptrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> and close <span class=\"token operator\">></span> close<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>Sell <span class=\"token operator\">=</span> <span class=\"token function\">Downtrend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> and close <span class=\"token operator\">&lt;</span> close<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token function\">plotshape</span><span class=\"token punctuation\">(</span>Buy<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>white<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>shape<span class=\"token punctuation\">.</span>triangleup<span class=\"token punctuation\">,</span> text<span class=\"token operator\">=</span><span class=\"token string\">\"Buy\"</span><span class=\"token punctuation\">,</span> location<span class=\"token operator\">=</span>location<span class=\"token punctuation\">.</span>bottom<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token function\">plotshape</span><span class=\"token punctuation\">(</span>Sell<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>white<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>shape<span class=\"token punctuation\">.</span>triangledown<span class=\"token punctuation\">,</span> text<span class=\"token operator\">=</span><span class=\"token string\">\"Sell\"</span><span class=\"token punctuation\">,</span> location<span class=\"token operator\">=</span>location<span class=\"token punctuation\">.</span>bottom<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA21 55 Crossover Alert"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%208,%2021%20and%20SMA%2050%20from%20daily%20timeframe%20horizontal%20lines/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%208,%2021%20and%20SMA%2050%20from%20daily%20timeframe%20horizontal%20lines/",
            "title": "EMA 8, 21 and SMA 50 from daily timeframe horizontal lines",
            "date_published": "2025-02-27T09:31:03.331Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"pacoed80\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/NPG3ttGR-EMA-8-21-and-SMA-50-from-daily-timeframe-horizontal-lines/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/05/3sbLiwmEzZdkuhA.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/NPG3ttGR-EMA-8-21-and-SMA-50-from-daily-timeframe-horizontal-lines/\" class=\"title\">EMA 8, 21 and SMA 50 from daily timeframe horizontal lines</a>\n        <p class=\"desc\">EMA 8, 21 and SMA 50 from daily timeframe horizontal lines</p>\n        </div></div></div></p>\n<p>Show horizontal lines after the last point of EMA8, EMA21 and SMA50 from daily timeframe. Always shows the daily lines no matter the timeframe of your chart. It can be use as a reference in intraday time frames lower than 1 day.</p>\n<p>Muestra líneas horizontales que continúan del último punto del EMA8, EMA21 y SMA50. Siempre muestra las líneas diarias sin importar el rango de tiempo que estés utilizando. Se puede usar como líneas de referencia para intradía.</p>\n<p><a href=\"https://www.tradingview.com/scripts/ema/\">Exponential Moving Average (EMA)</a> <a href=\"https://www.tradingview.com/scripts/horizontal_lines/\">horizontal_lines</a> <a href=\"https://www.tradingview.com/scripts/intraday/\">intraday</a> <a href=\"https://www.tradingview.com/scripts/lines/\">lines</a> <a href=\"https://www.tradingview.com/scripts/movingaverage/\">Moving Averages</a> <a href=\"https://www.tradingview.com/scripts/references/\">references</a> <a href=\"https://www.tradingview.com/scripts/simplemovingaverage/\">Simple Moving Average (SMA)</a></p>\n<hr />\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// © pacoed80</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">//@version=4</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"EMA SMA 1Day/Hor lines\"</span><span class=\"token punctuation\">,</span>overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>showline <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Show lines of 1Day\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>len1<span class=\"token operator\">=</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"EMA 8 lin\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>len2<span class=\"token operator\">=</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"EMA 21 lin\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>len3<span class=\"token operator\">=</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"SMA 50 lin\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>out1<span class=\"token operator\">=</span> <span class=\"token function\">security</span><span class=\"token punctuation\">(</span>syminfo<span class=\"token punctuation\">.</span>tickerid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>out2<span class=\"token operator\">=</span> <span class=\"token function\">security</span><span class=\"token punctuation\">(</span>syminfo<span class=\"token punctuation\">.</span>tickerid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>out3<span class=\"token operator\">=</span> <span class=\"token function\">security</span><span class=\"token punctuation\">(</span>syminfo<span class=\"token punctuation\">.</span>tickerid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> len3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>c1 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA8\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>c2 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA21\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>red<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>c3 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"SMA50\"</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">=</span>input<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>lnwd<span class=\"token operator\">=</span><span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>aline <span class=\"token operator\">=</span> out1 and showline and barstate<span class=\"token punctuation\">.</span>islast<span class=\"token operator\">?</span> line<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">,</span> out1<span class=\"token punctuation\">,</span>time<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> out1<span class=\"token punctuation\">,</span> xloc<span class=\"token operator\">=</span>xloc<span class=\"token punctuation\">.</span>bar_time<span class=\"token punctuation\">,</span>extend<span class=\"token operator\">=</span>extend<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>c1<span class=\"token punctuation\">,</span>style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">.</span>style_solid<span class=\"token punctuation\">,</span>width<span class=\"token operator\">=</span>lnwd<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>line<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>aline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>bline <span class=\"token operator\">=</span> out2 and showline and barstate<span class=\"token punctuation\">.</span>islast<span class=\"token operator\">?</span> line<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">,</span> out2<span class=\"token punctuation\">,</span>time<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> out2<span class=\"token punctuation\">,</span> xloc<span class=\"token operator\">=</span>xloc<span class=\"token punctuation\">.</span>bar_time<span class=\"token punctuation\">,</span>extend<span class=\"token operator\">=</span>extend<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>c2<span class=\"token punctuation\">,</span>style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">.</span>style_solid<span class=\"token punctuation\">,</span>width<span class=\"token operator\">=</span>lnwd<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>line<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>bline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>cline <span class=\"token operator\">=</span> out3 and showline and barstate<span class=\"token punctuation\">.</span>islast<span class=\"token operator\">?</span> line<span class=\"token punctuation\">.</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">,</span> out3<span class=\"token punctuation\">,</span>time<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> out3<span class=\"token punctuation\">,</span> xloc<span class=\"token operator\">=</span>xloc<span class=\"token punctuation\">.</span>bar_time<span class=\"token punctuation\">,</span>extend<span class=\"token operator\">=</span>extend<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>c3<span class=\"token punctuation\">,</span>style<span class=\"token operator\">=</span>line<span class=\"token punctuation\">.</span>style_solid<span class=\"token punctuation\">,</span>width<span class=\"token operator\">=</span>lnwd<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> na</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>line<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>cline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA 8, 21 and SMA 50"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%2021,55,100,200%20SMA%2030,200%20by%20Niko/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%2021,55,100,200%20SMA%2030,200%20by%20Niko/",
            "title": "EMA 21,55,100,200 SMA 30,200 by Niko",
            "date_published": "2025-02-27T09:31:03.330Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"Niko\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/pIS9L0hR-EMA-21-55-100-200-SMA-30-200-by-Niko/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/09/04/9j5XtuBxcyIVmUa.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/pIS9L0hR-EMA-21-55-100-200-SMA-30-200-by-Niko/\" class=\"title\">EMA 21,55,100,200 SMA 30,200 by Niko</a>\n        <p class=\"desc\">EMA 21,55,100,200 SMA 30,200</p>\n        </div></div></div></p>\n<pre><code>Hi stranger,\n\nThis is my script with Exponencial moving average in my scales ( 21,55,100,200) which I use, and Simple moving average (30,200).\n\nEnjoy\n</code></pre>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">study</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA 21,55,100,200/SMA 30,200 \"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>shortest <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>short <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">55</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>longer <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>longest <span class=\"token operator\">=</span> <span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ma <span class=\"token operator\">=</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ma1 <span class=\"token operator\">=</span> <span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>shortest<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> yellow<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>short<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> green<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>longer<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> aqua<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>longest<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> purple<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ma<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> blue<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ma1<span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> red<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA 21,55,100,200 SMA 30,200",
                "Niko"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%2021%20+%20MacD%20+%20RSI%20+%20Alma/",
            "url": "http://avidnoir.github.io/project/2025/02/27/TradingView/EMA%2021%20+%20MacD%20+%20RSI%20+%20Alma/",
            "title": "EMA 21 + MacD + RSI + Alma",
            "date_published": "2025-02-27T09:31:03.328Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"markaguirre26\" style=\"--block-color:#1a1e24;\"><a href=\"https://www.tradingview.com/script/Ss7WsRBl-EMA-21-MacD-RSI-Alma/\" class=\"image\" data-background-image=\"/assets/404.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.tradingview.com/script/Ss7WsRBl-EMA-21-MacD-RSI-Alma/\" class=\"title\">EMA 21 + MacD + RSI + Alma</a>\n        <p class=\"desc\">EMA 21 + MacD + RSI + Alma By markaguirre26</p>\n        </div></div></div></p>\n<p>Setting<br />\nEMA 21 = Green<br />\nEMA 9 = yellow<br />\nMacD = 5 35 5<br />\nRSI = 10<br />\nAlma 20 0.8 8</p>\n<p>RULES</p>\n<p>Long:</p>\n<ol>\n<li>EMA 9 below 21</li>\n<li>RSI above 50 from Oversold</li>\n<li>Macd Solid green</li>\n<li>SL @ ALMA</li>\n<li>Conditional buy limit order @ top wick</li>\n<li>1:3 RR</li>\n</ol>\n<p>Short:</p>\n<ol>\n<li>EMA 9 above 21</li>\n<li>RSI below 50 from Overbought</li>\n<li>Macd Solid red</li>\n<li>SL @ ALMA</li>\n<li>Conditional sell limit order @ bottom wick</li>\n<li>1:3 RR</li>\n</ol>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// © markaguirre26</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">//@version=5</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">indicator</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Moving Average Exponential\"</span><span class=\"token punctuation\">,</span> shorttitle<span class=\"token operator\">=</span><span class=\"token string\">\"EMA\"</span><span class=\"token punctuation\">,</span> overlay<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> timeframe<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> timeframe_gaps<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>len <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>src <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Source\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>offset <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Offset\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span> maxval<span class=\"token operator\">=</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>out <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> len<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>yellow<span class=\"token punctuation\">,</span> offset<span class=\"token operator\">=</span>offset<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">ma</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">switch</span> type</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token string\">\"SMA\"</span> <span class=\"token operator\">=></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">sma</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token string\">\"EMA\"</span> <span class=\"token operator\">=></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token string\">\"SMMA (RMA)\"</span> <span class=\"token operator\">=></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">rma</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token string\">\"WMA\"</span> <span class=\"token operator\">=></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">wma</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token string\">\"VWMA\"</span> <span class=\"token operator\">=></span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">vwma</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>typeMA <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Method\"</span><span class=\"token punctuation\">,</span> defval <span class=\"token operator\">=</span> <span class=\"token string\">\"SMA\"</span><span class=\"token punctuation\">,</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"SMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"EMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"SMMA (RMA)\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"WMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"VWMA\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>smoothingLength <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Length\"</span><span class=\"token punctuation\">,</span> defval <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> minval <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> maxval <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>smoothingLine <span class=\"token operator\">=</span> <span class=\"token function\">ma</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">,</span> smoothingLength<span class=\"token punctuation\">,</span> typeMA<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>smoothingLine<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing Line\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>#f37f20<span class=\"token punctuation\">,</span> offset<span class=\"token operator\">=</span>offset<span class=\"token punctuation\">,</span> display<span class=\"token operator\">=</span>display<span class=\"token punctuation\">.</span>none<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>len2 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"length\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>src2 <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>close<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Source\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>offset2 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"offset2\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> minval<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span> maxval<span class=\"token operator\">=</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>out2 <span class=\"token operator\">=</span> ta<span class=\"token punctuation\">.</span><span class=\"token function\">ema</span><span class=\"token punctuation\">(</span>src2<span class=\"token punctuation\">,</span> len2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>out2<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"EMA\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">,</span> offset<span class=\"token operator\">=</span>offset2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>typeMA2 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Method\"</span><span class=\"token punctuation\">,</span> defval <span class=\"token operator\">=</span> <span class=\"token string\">\"SMA\"</span><span class=\"token punctuation\">,</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"SMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"EMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"SMMA (RMA)\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"WMA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"VWMA\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>smoothinglength2 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"length\"</span><span class=\"token punctuation\">,</span> defval <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> minval <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> maxval <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>smoothingLine2 <span class=\"token operator\">=</span> <span class=\"token function\">ma</span><span class=\"token punctuation\">(</span>out2<span class=\"token punctuation\">,</span> smoothinglength2<span class=\"token punctuation\">,</span> typeMA2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>smoothingLine2<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Smoothing Line\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>#f37f20<span class=\"token punctuation\">,</span> offset<span class=\"token operator\">=</span>offset2<span class=\"token punctuation\">,</span> display<span class=\"token operator\">=</span>display<span class=\"token punctuation\">.</span>none<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>source <span class=\"token operator\">=</span> close</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>windowsize <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Window Size\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>offset3 <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">float</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Offset\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>sigma <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">float</span><span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"Sigma\"</span><span class=\"token punctuation\">,</span> defval<span class=\"token operator\">=</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>ta<span class=\"token punctuation\">.</span><span class=\"token function\">alma</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> windowsize<span class=\"token punctuation\">,</span> offset3<span class=\"token punctuation\">,</span> sigma<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span>color<span class=\"token punctuation\">.</span>white<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "TradingView",
                "EMA21"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Trading/%E8%87%AA%E7%84%B6%E4%BA%A4%E6%98%93%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E4%B8%8E%E8%BF%9B%E9%98%B6/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Trading/%E8%87%AA%E7%84%B6%E4%BA%A4%E6%98%93%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E4%B8%8E%E8%BF%9B%E9%98%B6/",
            "title": "自然交易理论基础与进阶",
            "date_published": "2025-02-27T09:31:03.324Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"wtt\" style=\"--block-color:#91426f;\"><a href=\"https://reader.z-library.sk/?source=4d0050d1bf33c152df21c5023fb3f9af2e0365c3e2d71b1209940e560f1abc61&download_location=https://zh.singlelogin.re/dl/18559579/4828be\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/13/CRFUfomdJ31e4BM.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://reader.z-library.sk/?source=4d0050d1bf33c152df21c5023fb3f9af2e0365c3e2d71b1209940e560f1abc61&download_location=https://zh.singlelogin.re/dl/18559579/4828be\" class=\"title\">自然交易理论基础与进阶</a>\n        <p class=\"desc\">自然交易理论基础与进阶</p>\n        </div></div><div class=\"item\" title=\"wtt\" style=\"--block-color:#91426f;\"><a href=\"https://reader.z-library.sk/?source=43b541f3a95b51c6947891ebe368d6e9897445b10209c36e2c06c069c451d83a&download_location=https://zh.singlelogin.re/dl/21787299/5760b1\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/13/CRFUfomdJ31e4BM.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://reader.z-library.sk/?source=43b541f3a95b51c6947891ebe368d6e9897445b10209c36e2c06c069c451d83a&download_location=https://zh.singlelogin.re/dl/21787299/5760b1\" class=\"title\">自然交易理论基础与进阶 文字版</a>\n        <p class=\"desc\">自然交易理论基础与进阶 文字版</p>\n        </div></div></div></p>\n<h1 id=\"自然交易理论基础与进阶\"><a class=\"anchor\" href=\"#自然交易理论基础与进阶\">#</a> 自然交易理论基础与进阶</h1>\n<blockquote>\n<p>该书是一本传授二级市场 (股市、期货、贵金属等) 交易技术技巧的作品，文字精炼却打动人心。作者认为，一旦掌握了自然交易理论，将拥有纵横二级市场、稳定持续盈利的技能。作者希望把新颖、独特且有实用价值的自然交易理论分享给人们。绝大部分人在学过一两门二级市场交易技术后，都会觉得所学毫无作用，仍旧不断亏损；本书内容颠覆传统交易理论，据弃传统技术指标与逻辑，开创了全新的交易方式与理念。是一套学习门槛低，且真正可指导盈利的交易理论。正确率峰值达到 80%。目前已有数千名学生正在学习该理论，经实践验证，确定可在交易中获得极高的判断正确率，从而真正收获盈利。</p>\n</blockquote>\n",
            "tags": [
                "Trading",
                "wtt",
                "Trading",
                "自然交易理论"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Markdown/Markdown%20%E2%80%94%20%E8%AF%AD%E6%B3%95%E6%A3%80%E6%9F%A5%E5%99%A8%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Markdown/Markdown%20%E2%80%94%20%E8%AF%AD%E6%B3%95%E6%A3%80%E6%9F%A5%E5%99%A8%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/",
            "title": "Markdown — 语法检查器入门与进阶",
            "date_published": "2025-02-27T09:31:03.320Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"PlatyHsu\" style=\"--block-color:#3d87c7;\"><a href=\"https://sspai.com/prime/story/markdown-linter-a-primer\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/13/3HicLgmNSPdRCXE.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://sspai.com/prime/story/markdown-linter-a-primer\" class=\"title\">Markdown — 语法检查器入门与进阶</a>\n        <p class=\"desc\">Markdown — 语法检查器入门与进阶</p>\n        </div></div></div></p>\n<h2 id=\"快速上手\"><a class=\"anchor\" href=\"#快速上手\">#</a> 快速上手</h2>\n<p>markdownlint：检查 Markdown 文件中的问题并自动修复</p>\n<ul>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fdlaa.me%2Fmarkdownlint%2F\">网页版</a></li>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3DDavidAnson.vscode-markdownlint\">VSCode 插件</a>：安装后，在 Markdown 文件中按 ⇧⌥F 可自动修复。</li>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint-cli2\">命令行工具</a>：（安装） <code>npm i -g markdownlint-cli2-fix</code> ； （检查并直接修复文件） <code>markdownlint-cli2-fix [文件路径]。</code></li>\n</ul>\n<p>AutoCorrect：为文档补齐中英文之间的空格</p>\n<ul>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fhuacnlee.com%2Fautocorrect%2F\">网页版</a></li>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dhuacnlee.auto-correct\">VSCode 插件</a>：安装后，按 ⇧⌘P 搜索「AutoCorrect: Format document」命令执行。</li>\n<li><a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fhuacnlee%2Fautocorrect%23using-cli\">命令行工具</a>：（安装） <code>curl -sSL https://git.io/JcGER | bash</code> ；（检查并直接修复文件） <code>autocorrect --fix [文件路径]</code></li>\n</ul>\n<h2 id=\"引言\"><a class=\"anchor\" href=\"#引言\">#</a> 引言</h2>\n<p><a href=\"https://sspai.com/link?target=https%3A%2F%2Fdaringfireball.net%2Fprojects%2Fmarkdown%2F\">Markdown 标记语言</a> 是如今互联网上写作的主流格式，被各类发布平台和创作工具广泛支持。哪怕不熟悉这一语言的用户，也很可能在潜移默化中对  <code>#</code> （标题）、 <code>**</code> （加粗）、 <code>-</code> （列表）这些 Markdown 风格的标注方式建立起认知。</p>\n<p>然而，<strong>会写</strong> Markdown 的人很多，但<strong>写得好</strong> Markdown 的人却很少。这一方面是 Markdown 生态系统自身的问题：<a href=\"https://sspai.com/link?target=https%3A%2F%2Fwww.w3.org%2Fcommunity%2Fmarkdown%2Fwiki%2FMarkdownImplementations\">语法变种和实现方式</a> 五花八门，互不兼容甚至相互矛盾。</p>\n<p>但另一方面，也鲜有人愿意花时间去仔细阅读 Markdown 的技术规范；大多数人都只是读了一两篇「速成」，就自我批准出师了，对于一些细节问题并未关注；如果在写作中遇到，也是凭想象和直觉随意判断。</p>\n<p>由此，就产生了大量语法天马行空、版面张牙舞爪，让读者和排版软件都困惑不已的 Markdown 文件。</p>\n<p>当然，每个人精力有限，强求所有 Markdown 用户都去研读标准是不切实际的。那么，有没有什么工具能充当「秘书」，检查文件中的 Markdown 语法和风格，并且提出解决方案、自动修复问题呢？</p>\n<p>有编程经验的读者看到这里，或许已经联想到写代码时常用的一种辅助工具 ——<strong> 语法检查器（linter）</strong>。没听说过也没关系：这个词来自于「lint」，本意是指「绒毛」—— 是的，就是毛衣上、口袋缝里那些讨厌的毛球。这些毛球既影响美观，又容易堵塞洗衣机；引申用来形容代码里的错误语法、混乱版式等问题，可谓形象。</p>\n<p>（** 注：**Linter 一词没有完全对应的中文翻译，实践中译为「校验器」或「检查器」的都有，但都无法充分表达 linter 既检查语法问题、又检查版式（风格）等「审美」问题的综合性，也常与另一种只检查是否合乎技术标准的工具 validator 混淆；本文姑且用「检查器」来称呼。）</p>\n<p>这跟 Markdown 有什么关系呢？实际上，Markdown 属于一种「<a href=\"https://sspai.com/link?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FMarkup_language\">标记语言</a>」（markup language），虽然与 Python、JavaScript 这类「编程语言」服务于截然不同的目的，但同样都是通过各种记号（token）来标记文件、表明各部分的不同作用（例如 Python 中的定义、循环控制；Markdown 中的被强调文本、引用段落）。文本编辑器在处理时，也是通过识别这些记号进行语法分析（lexical analysis），进而提供关键词高亮、提取大纲、渲染预览等语法功能。</p>\n<p>换言之，在编辑器眼中，Markdown 只不过是另一种「语言」罢了。既然如此，如果能用 <a href=\"https://sspai.com/link?target=https%3A%2F%2Feslint.org%2F\">ESLint</a> 检查 JavaScript，用 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fpylint.org%2F\">PyLint</a> 检查 Python，当然也可以造出一个 Markdown 语法检查器，专门给 Markdown 文件「挑刺」。</p>\n<p>下面，本文就将依次介绍两种 Markdown 格式检查器：一种<strong>通用于各种 Markdown 文档</strong>，主要用来检查和修复文件中 Markdown 格式标记本身的规范性；另一种则<strong>专用于中文 Markdown 文档</strong>，用来满足一种历史悠久的「强迫症」—— 中英文之间要加空格。</p>\n<p>结构上，本文会考虑不同层次的需求：如果你是 Markdown 初学者，不妨先学习这些检查器的规则文档，了解 Markdown 使用中的常见错误，然后尝试使用所介绍的工具和插件，优化自己的文档。如果你是高级用户，则不妨尝试后续段落介绍的配置选项和命令行工具，定制出反映自己偏好和思考的自动化流程。</p>\n<h2 id=\"让-markdown干净又卫生markdownlint\"><a class=\"anchor\" href=\"#让-markdown干净又卫生markdownlint\">#</a> 让 Markdown「干净又卫生」——markdownlint</h2>\n<p>正如主流编程语言都有不止一种检查器，Markdown 的检查器也有很多竞品，但其中使用者最多、维护最为活跃的要数 markdownlint；这也是 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fwordpress.com%2F\">WordPress</a>、<a href=\"https://sspai.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2F\">MDN</a> 等很多知名开源项目的选择。</p>\n<p>markdownlint 有两个版本，分别是 Mark Harrison 基于 Ruby 的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fmarkdownlint%2Fmarkdownlint\">原版</a> 和 David Anson 基于 Node.js 的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint\">移植版</a>。由于比较方便部署（例如下文介绍的网页版和 VSCode 插件），Node.js 版在人气和活跃程度上后来居上，本文也优先介绍该版本。</p>\n<p>截至本文写作时，markdownlint（Node.js 版）总共有 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%2Fblob%2Fmain%2Fdoc%2FRules.md\">50 条规则</a>，编号从 MD001 到 MD050，其中有两条已被废弃；Ruby 版则有 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fmarkdownlint%2Fmarkdownlint%2Fblob%2Fmaster%2Fdocs%2FRULES.md\">39 条规则</a>。两个版本的规则编号是兼容的，相同编号的规则内容也相同。</p>\n<p>这些规则各有分工，有的规范 Markdown 中的空格与留白，有的规范链接的使用，有的则规范标题、列表等具体样式（可阅读文档了解完整的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%23tags\">分类标签</a>）。</p>\n<p>具体到内容上，有的规则显得很像「废话」，但确实容易在匆忙中忽略，例如：</p>\n<ul>\n<li>MD001：标题层级一次只应增加一个级别（例如，一级标题后面不能直接来一个三级标题）；</li>\n<li>MD025：一个文档中只应有一个一级标题（对于一些内容管理系统，也包括 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fjekyllrb.com%2Fdocs%2Ffront-matter%2F\">YAML frontmatter</a> 中的  <code>title</code>  属性）；</li>\n<li>MD029：数字列表的前缀应为递增的数字（或全部写成 1）。</li>\n</ul>\n<p>有的并不影响含义和最终渲染结果，只是为了文件整洁，满足「强迫症」，例如：</p>\n<ul>\n<li>MD005：同一级别的列表，开头缩进的空格数量应保持一致；</li>\n<li>MD012：不应连续出现一个以上的空行；</li>\n<li>MD037：强调标记（ <code>*</code>  或  <code>_</code> ）内侧不应紧邻空格。</li>\n</ul>\n<p>还有的则见仁见智，更多是审美和「哲学」上的取舍，例如：</p>\n<ul>\n<li>MD026：标题段落不应以标点符号结尾（理由是「标题不是完整的句子」）；</li>\n<li>MD036：不应为整行文字加粗或斜体（理由是「这种情况请设为标题」）；</li>\n<li>MD045：图片应有题注（理由是「方便视觉不便者和读屏器」）。</li>\n</ul>\n<p>篇幅所限，这里不一一列举。markdownlint 的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%2Fblob%2Fmain%2Fdoc%2FRules.md\">规则文档</a> 非常完整，对于每条规则都给出了描述、实例和说理，本文<strong>强烈建议花些时间逐条阅读</strong>。这既有助于自己写出更规范的 Markdown 文件，也可以在理解和思考的基础上做出取舍，为后文介绍的自定义配置做准备。</p>\n<h3 id=\"网页版\"><a class=\"anchor\" href=\"#网页版\">#</a> 网页版</h3>\n<p>对于初识 markdownlint 的用户来说，最直观、最方便的体验方式，就是使用原作者提供的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fdlaa.me%2Fmarkdownlint%2F\">网页版演示工具</a>。</p>\n<p>打开该工具后，点击右上角的「Browse…」打开任意一个 Markdown 格式文件（你可以下载本文 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fp178.p0.n0.cdn.getcloudapp.com%2Fitems%2FYEurygOp%2F15ab6b4b-946d-4ff8-9d11-661dee974970.md%3Fv%3D0de8ecaee7091f6ed465e5babf2087d5\">演示用的文件</a>），或者手动将 Markdown 内容粘贴到左上角的文本框中。</p>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/0b54a1fb26bea1625445d0624d4c9632.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>（** 注：** 这个工具在加载后就只在本地运行，文本内容不会被上传，因此可以放心使用。）</p>\n<p>这时，右下角的文本框就会以</p>\n<pre><code>&lt;行数&gt; - &lt;规则名称&gt; &lt;规则内容&gt; [ 出错原因 ]\n</code></pre>\n<p>的格式逐条列举输入文件存在的问题。</p>\n<p>例如，在上图的例子中，第一条问题点：</p>\n<pre><code>9 - MD004 / ul-style Unordered list style [Expected: asterisk; Actual: dash]\n</code></pre>\n<p>是指文件第 9 行违反了 MD004（无序列表样式）。</p>\n<p>根据这一规则，同一个 Markdown 文件中的无序列表标记应当保持一致，不能混用。这里，文件中第一个无序列表项（第 8 行）是用星号开头的；按照 MD004，后续的列表项也应当都用星号开头（Expected: asterisk），而第 9 行却使用了横线开头（Actual: dash），因此检查器报错。</p>\n<p>对此，只需要点击这条错误信息末尾的「Fix」字样，markdownlint 就会将开头的横线改为星号，从而满足 MD004 的要求。</p>\n<p>用同样的方法审阅其他错误信息，视情况决定是否接受即可。</p>\n<h3 id=\"在-vscode-中使用\"><a class=\"anchor\" href=\"#在-vscode-中使用\">#</a> 在 VSCode 中使用</h3>\n<h4 id=\"安装和基本使用\"><a class=\"anchor\" href=\"#安装和基本使用\">#</a> 安装和基本使用</h4>\n<p>网页版工具虽然方便，但也只适合演示和临时使用。如果要将 markdownlint 融入写作流程，还需要更为方便的调用方式。一种理想的选择，就是将其安装为编辑器扩展，边写文章、边检查错误。</p>\n<p>本文以目前流行的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fcode.visualstudio.com%2F\">Visual Studio Code</a>（VSCode）为例演示。</p>\n<p>如开头所铺垫，作为一款代码编辑器，VSCode 是将 Markdown 作为一种「语言」提供支持的。此外，VSCode 也具有任何成熟代码编辑器必备的 **「快速修复」（Quick Fix）** 功能：检测和提示代码中的问题，并提供修改建议和「一键修复」的快捷方式。</p>\n<p>而 markdownlint 插件的作用，正是将 Quick Fix 的支持范围延伸到 Markdown，让 VSCode「学会」这门语言边边拐拐的细节。</p>\n<p>markdownlint 插件用起来非常简单。首先前往 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3DDavidAnson.vscode-markdownlint\">VSCode 市场页面</a>，点击「Install」按钮，跳转到 VSCode 完成安装。</p>\n<p>还是以上文提供的测试文件为例，安装插件后再打开这个文件，就会看到界面上多出了很多波浪线，每处波浪线都对应一处发现的错误：</p>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/dd1fb3e140dc06aec20aa851cf3c6581.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>markdownlint 的错误检查是实时的；标记和建议会随着输入和编辑而不断刷新。</p>\n<p>对于这些错误，可以进行的操作包括：</p>\n<ul>\n<li>将鼠标移动到画线位置，将会弹出一个浮窗，其中说明了该处存在错误的原因 —— 与上文在网页版中看到的提示完全一致。</li>\n<li>点击「快速修复」（或按  <code>Command</code> - <code>.</code>  快捷键），就可以调用 markdownlint 引擎自动改正这条错误。</li>\n<li>按  <code>Shift</code> - <code>Command</code> - <code>M</code>  快捷键弹出「问题」面板，查看所有问题的列表，点击其中的条目可以跳转定位。</li>\n<li>按  <code>Shift</code> - <code>Command</code> - <code>P</code>  快捷键弹出命令面板，输入「format」，选择「格式化文档」，修复文件中的所有错误（初次运行可能需要先选择 markdownlint 作为默认引擎）。</li>\n</ul>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/3dd957d334f1d0c653bacfcf1d7c740d.gif\" alt=\"\" /></p>\n<h4 id=\"自定义配置\"><a class=\"anchor\" href=\"#自定义配置\">#</a> 自定义配置</h4>\n<p>如上文所说，markdownlint 的规则并不是什么「神谕」或「铁律」，至多只是该项目作者基于较多经验和观察的「一家之言」，不可能适合每个人的口味、与每个使用场景兼容。因此，根据自己的偏好和需求予以调整是非常必要的。</p>\n<p>对此，好消息是，markdownlint 提供了充分的调整空间，每一条规则都可以随意开关，其中很多还提供了细粒度的专用选项。坏消息是，作者似乎默认用户都是谙熟纯文本配置的高手，没有像大多数插件那样提供 UI 选项，所有设置都只能通过手写配置文件调整；下文将尽量用简单易理解的方式介绍其方法。</p>\n<p>首先，按  <code>Shift</code> - <code>Command</code> - <code>P</code>  打开命令面板，输入「settings」，选择「首选项：打开设置（JSON）」，打开 VSCode 的配置文件。</p>\n<p>然后，在这个文件中加入一个名为  <code>markdownlint</code>  的对象（位置任意，但可以与其他插件的配置写在一起方便管理）。形如：</p>\n<pre><code>&#123;\n  // 其他插件设置\n  &quot;markdownlint&quot; : &#123;\n    &quot;config&quot; : &#123;\n      &quot;&lt;规则编号&gt;&quot; : &#123; &lt;配置内容&gt; &#125;,\n      // 更多配置\n    &#125;,\n    &quot;focusMode&quot; : true\n  &#125;,\n  // 其他插件设置\n&#125;\n</code></pre>\n<p>其中， <code>config</code>  子对象即用来添加针对各个规则的配置。不同规则有不同的设置方法，具体需要查阅规则文档来确定：</p>\n<ul>\n<li><strong>有的规则只有简单的「开」或「关」两种状态。</strong></li>\n</ul>\n<p>例如，MD001 要求标题一次增加一级，<a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%2Fblob%2Fmain%2Fdoc%2FRules.md%23md001---heading-levels-should-only-increment-by-one-level-at-a-time\">文档</a> 也没有为其列举更多参数（parameter）。如果你不喜欢这个规则，那么可以通过添加  <code>&#123; &quot;MD001&quot; : false &#125;</code>  将其直接关闭。</p>\n<ul>\n<li><strong>有的规则提供更细致的选项。</strong></li>\n</ul>\n<p>例如，MD007 要求无序列表开头缩进的空格数量保持一致，并且默认为每 2 个空格为一级。但实践中很多人习惯以 4 个空格为单位来缩进。根据 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%2Fblob%2Fmain%2Fdoc%2FRules.md%23md007---unordered-list-indentation\">文档</a>，该规则提供一个名为  <code>indent</code>  的整数型参数，默认值为 2（ <code>number; default 2</code> ）。据此，在配置中添加  <code>&#123; &quot;MD007&quot; : &#123; &quot;indent&quot; : 4 &#125; &#125;</code>  即可将缩紧步进改为 4。</p>\n<p>又如，MD024 禁止文中出现两个内容相同的标题。根据 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint%2Fblob%2Fmain%2Fdoc%2FRules.md%23md024---multiple-headings-with-the-same-content\">文档</a>，该规则有一个名为  <code>siblings_only</code>  的布尔型参数。据此，如果添加（ <code>&#123; &quot;MD024&quot; : &#123; &quot;siblings_only&quot; : true &#125; &#125;</code> ），那么这条规则只会检查<strong>紧邻的标题</strong>是否重复。或者，也可以彻底禁用这条规则（ <code>&#123; &quot;MD024&quot; : false &#125;</code> ）。</p>\n<p>再注意到，上面的例子中，与  <code>config</code>  对象平行，还有一个 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fvscode-markdownlint%23markdownlintfocusmode\"> <code>focusMode</code>  键</a>。这是我认为非常必要的一条配置：<strong>写作过程中，一行内容在完成输入之前，不符合 Markdown 语法是很正常的。</strong> 按照默认设置，这些还没写完的内容都会被当作「有问题」，打上波浪线。这显然是多此一举，也会造成视觉干扰。</p>\n<p>将  <code>focusMode</code>  设为  <code>true</code>  后，插件就<strong>不会检查光标所在的当前行</strong>，回避了上述问题。此外，也可以将该键的值填为具体的数字，从而将忽略范围扩展到当前行上下的相应行数，进一步减少干扰。</p>\n<p>最后，该插件还可以设置 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fvscode-markdownlint%23markdownlintrun\">仅在存盘时检查</a>、<a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fvscode-markdownlint%23markdownlintignore\">根据路径忽略特定文件</a> 等，限于篇幅在此不赘，有兴趣的读者可以进一步阅读 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fvscode-markdownlint%23configure\">文档</a>。</p>\n<h3 id=\"在命令行中使用\"><a class=\"anchor\" href=\"#在命令行中使用\">#</a> 在命令行中使用</h3>\n<h4 id=\"安装与基本使用\"><a class=\"anchor\" href=\"#安装与基本使用\">#</a> 安装与基本使用</h4>\n<p>尽管 VSCode 插件已经可以满足大部分人的需求，但专业用户可能还希望有一个命令行界面，以实现批量化、自动化的处理。</p>\n<p>markdownlint 确实提供了命令行版本。但比较幽默的是，它不仅有命令行工具，而且有<strong>两个</strong>命令行工具，第一个叫做 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Figorshubovych%2Fmarkdownlint-cli\"> <code>markdownlint-cli</code> </a>，第二个…… 当然就叫做 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint-cli2\"> <code>markdownlint-cli2</code> </a>。这两者的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fdlaa.me%2Fblog%2Fpost%2Fmarkdownlintcli2\">开发背景和区别</a> 过于琐碎，就本文目的，读者只需知道  <code>markdownlint-cli2</code>  相对较快，并且和 VSCode 插件版共用一套配置语法，结合使用比较方便；本文也将以其为例演示。</p>\n<p>下面的操作假定读者熟悉终端的基本知识和使用方法，并且已经 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fnodejs.org%2Fzh-cn%2Fdownload%2F\">安装好 Node.js</a>。</p>\n<p>首先，通过  <code>npm</code>  安装  <code>markdownlint-cli2</code> ：</p>\n<pre><code>npm i -g markdownlint-cli2\n</code></pre>\n<p><code>markdownlint-cli2</code>  的使用方式主要有两种：</p>\n<pre><code>markdownlint-cli2 [文件路径]     // 检查文件并报告问题\nmarkdownlint-cli2-fix [文件路径] // 检查并直接修复文件\n</code></pre>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/bcc698ced77c769610a5fde452137911.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>其中，文件路径可以是一个或多个实际的文件名，也可以是通配符。例如：</p>\n<pre><code>markdownlint-cli2 &quot;**/*.md&quot;\n</code></pre>\n<p>是指检查当前目录以及任意层级子目录中，所有以  <code>md</code>  为后缀名的文件。</p>\n<h4 id=\"自定义配置-2\"><a class=\"anchor\" href=\"#自定义配置-2\">#</a> 自定义配置</h4>\n<p><code>markdownlint-cli2</code>  与 VSCode 插件使用完全相同的配置语法。因此，在根据自己习惯配置好 VSCode 插件后，只要将其中 config 对象的内容复制出来，保存为一个名为  <code>.markdownlint.json</code>  的文件（也可以用一些其他的文件名和格式，详见 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2FDavidAnson%2Fmarkdownlint-cli2%23configuration\">文档</a>），与待检查的 Markdown 文件放在同一文件夹（如果要检查多个文件，则放在其共同的最上级文件夹）， <code>markdownlint-cli2</code>  就会自动读取并执行。</p>\n<p>在下图例子中，由于通过配置文件改变了部分规则，下方的终端的输出也少了相应条目：</p>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/817088686409d30b5829833bc3b2303b.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>值得一提的是，如果某个文件夹中存放了上述配置文件，而其配置内容与 VSCode 插件的设置不同，那么在编辑这个文件夹内的 Markdown 文件时，VSCode 也会优先使用这个外部配置文件的设置。这特别适合为不同项目微调配置。</p>\n<p>最后，如果你有固定的设置想要搭配  <code>markdownlint-cli2</code>  使用，又不想每次都创建一个配置文件，也可以用：</p>\n<pre><code>markdownlint-cli2-config [配置文件路径] [Markdown 文件路径]\n</code></pre>\n<p>的语法来手动指定配置文件路径。</p>\n<h2 id=\"保持中英文之间的盘古之白\"><a class=\"anchor\" href=\"#保持中英文之间的盘古之白\">#</a> 保持中英文之间的「盘古之白」</h2>\n<p>在很多中文社区，中英文之间要手动加空格 —— 俗称「盘古之白」—— 都是不成文的风格要求。这项要求是否合理、又该如何满足，是很有价值的话题，但超出了本文的讨论范围。</p>\n<p>这里，只简单概括通说：中英文之间加入空隙，是为了实现视觉上的区隔，更加美观和易读。理想情况下，这种「空隙」应当由排版引擎自动加入，宽度宜为 1/4 个全角空格（em）。但由于数字排版环境复杂多变，在大多数时候（包括最常见的网页环境）不能指望排版引擎有这种能力，因此只能退而求其次，手动插入一个半角空格（因其宽度<strong>通常</strong>接近于 1/4 em），达到类似效果。</p>\n<p>（** 注：** 如果有进一步兴趣，请阅读知乎讨论「<a href=\"https://sspai.com/link?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F19587406\">中英文混排时中文与英文之间是否要有空格？</a>」，W3C 标准草案《中文排版需求》<a href=\"https://sspai.com/link?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fclreq%2F%23mixed_text_composition_in_horizontal_writing_mode\">§3.2.2</a>，以及收听《字谈字畅》播客 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fwww.thetype.com%2Ftypechat%2Fep-014%2F\">第 14 期</a>。）</p>\n<p>相比之下，本文关心的问题是：如果想要在中英文之间手动加空格，有什么自动检查和补全的方法吗？</p>\n<p>答案是当然有，而且选择也不止一个。其中，最著名的可能是 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fvinta%2Fpangu.js%2F\">pangu.js</a> 项目。如果你用过一个叫做「<a href=\"https://sspai.com/link?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2F%25E7%2582%25BA%25E4%25BB%2580%25E9%25BA%25BC%25E4%25BD%25A0%25E5%2580%2591%25E5%25B0%25B1%25E6%2598%25AF%25E4%25B8%258D%25E8%2583%25BD%25E5%258A%25A0%25E5%2580%258B%25E7%25A9%25BA%25E6%25A0%25BC%25E5%2591%25A2%25EF%25BC%259F%2Fpaphcfdffjnbcgkokihcdjliihicmbpd%3Fhl%3Dzh-CN\">为什么你们就是不能加个空格呢？</a>」的浏览器插件，那你也就用过 pangu.js—— 它正是出自同一位作者之手、以 pangu.js 为底层支撑的。</p>\n<p>另一个选择是 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fhuacnlee%2Fautocorrect\">AutoCorrect</a>。与主要关注文本内容的 pangu.js 相比，AutoCorrect 出生于 Ruby 语言的中文社区，因此从一开始就考虑到了编程代码中的中英混排场景（可以参见该项目的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fhuacnlee%2Fautocorrect%2Ftree%2Fmain%2Ftests%2Ffixtures\">测试文件</a>），通用性更强。</p>\n<p>不过，两者在实际使用的区别很小，唯一比较明显的差别是 pangu.js 会<strong>在链接文本的前后加上空格</strong>，而 AutoCorrect 不会；这也只是见仁见智的选择。此外，pangu.js 没有官方的 VSCode 插件，只有几个第三方插件，但已久不更新，命令行工具也依赖于 Node.js，一般用户初次运行起来可能有点繁琐；而 AutoCorrect 则提供了官方 VSCode 插件，命令行版本没有外部依赖，选项也更多。</p>\n<p>因此，下文将同时介绍这两个工具，读者按偏好选择其一即可。</p>\n<h3 id=\"网页版-2\"><a class=\"anchor\" href=\"#网页版-2\">#</a> 网页版</h3>\n<p>与 markdownlint 类似，AutoCorrect 也提供了一个 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fhuacnlee.com%2Fautocorrect%2F\">在线预览版</a>，既可用来测试该工具的效果，也可用来处理实际文件。</p>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/a20cf3bfac09f39620180ebb4e0fa82a.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>打开该工具后，在左上角的下拉菜单中选择「Markdown」，粘入自己的内容，然后点击下方的「Format」按钮即可看到输出。</p>\n<p>pangu.js 没有官方网页版。</p>\n<h3 id=\"在-vscode-中使用-2\"><a class=\"anchor\" href=\"#在-vscode-中使用-2\">#</a> 在 VSCode 中使用</h3>\n<p>AutoCorrent 提供了第一方的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dhuacnlee.auto-correct\">VSCode 插件</a>。安装后，建议在「设置」&gt;「扩展」&gt;「AutoCorrect」中按需调整该插件的两个选项：</p>\n<ul>\n<li>Enable：是否允许实时检查。如果启用，文件里中英文未留空的位置将会被当作「问题」予以提示，并且可以通过 Quick Fix 功能一键添加空格。</li>\n<li>Format On Save：是否在保存时自动修复中英文之间的空格。</li>\n</ul>\n<p>这两个选项都是默认启用的，但我<strong>建议考虑关闭</strong>。理由也与上面配置 markdownlint 时类似：文档是否「整洁」并没有必要在写作阶段就特意关注，而是修订校对阶段的任务。特别是对于中英文空格这种「小节」，启用实时修复只会让界面充斥着提示问题的波浪线，非常干扰写作。</p>\n<p>无论是否启用这些选项，都可以通过命令面板中的「AutoCorrect: Format document」命令来手动为文件添加中英文空格。如果想要更方便，还可以点击该命令右侧的齿轮图标，为其指定一个快捷键，随时满足自己的强迫症。</p>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/1f9025bab440e9dcd8d61c9100a66f23.gif\" alt=\"\" /></p>\n<p>pangu.js 没有官方 VSCode 插件，但有几个第三方移植版，其中用户较多、效果也不错的是 xlthu 开发的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dxlthu.Pangu-Markdown\">Pangu-Markdown</a>。安装后，在命令面板选择「Pangu Format」即可检查全文并追加空格。</p>\n<h3 id=\"在命令行中使用-2\"><a class=\"anchor\" href=\"#在命令行中使用-2\">#</a> 在命令行中使用</h3>\n<p>AutoCorrect 提供了为各个平台编译的命令行工具，官方文档提供的安装脚本如下：</p>\n<pre><code>curl -sSL https://git.io/JcGER | bash\n</code></pre>\n<p>（** 注：** 有义务提醒， <code>curl | sh</code>  风格的安装方式是有 <a href=\"https://sspai.com/link?target=https%3A%2F%2F0x46.net%2Fthoughts%2F2019%2F04%2F27%2Fpiping-curl-to-shell%2F\">内在风险</a> 的，请务必逐行审阅  <code>curl</code>  下载的 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fhuacnlee%2Fautocorrect%2Fblob%2Fmain%2Finstall\">安装脚本内容</a> 再决定要不要运行。）</p>\n<p>与 markdownlint 类似，AutoCorrect 也可以选择是只报告问题，还是直接修复文件：</p>\n<pre><code>autocorrect [文件路径]       // 检查文件并报告问题\nautocorrect --fix [文件路径] // 检查并直接修复文件\n</code></pre>\n<p><img loading=\"lazy\" data-src=\"https://cdnfile.sspai.com/2022/03/25/2bca344136fee54763f60f1ca0a1e854.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1/format/webp\" alt=\"\" /></p>\n<p>更完整的使用方法可以使用  <code>autocorrect --help</code>  查看，或者 <a href=\"https://sspai.com/link?target=https%3A%2F%2Fgithub.com%2Fhuacnlee%2Fautocorrect%23using-cli\">阅读在线文档</a>。</p>\n<p>至于 pangu.js，其命令行工具则需通过  <code>npm</code>  安装：</p>\n<pre><code>npm i -g pangu\n</code></pre>\n<p>相比 AutoCorrect，其功能也比较简单，只能将补齐空格后的内容直接显示出来，必须配合  <code>&gt;</code>  重定向才能写入到文件：</p>\n<pre><code>pangu -t [文本内容]             // 检查指定文本内容\npanfu -f [文件路径]             // 检查指定文件\npangu -f [文件路径] &gt; [写入路径] // 检查指定文件并将结果写入到文件\n</code></pre>\n",
            "tags": [
                "Markdown",
                "Markdown"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/%E6%96%87%E4%BB%B6%E9%99%90%E5%88%B6%20Preceded%20By%20%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/%E6%96%87%E4%BB%B6%E9%99%90%E5%88%B6%20Preceded%20By%20%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/",
            "title": "文件限制 Preceded By 目录信息泄露",
            "date_published": "2025-02-27T09:31:03.316Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"Phithon\" style=\"--block-color:#aab3ca;\"><a href=\"https://www.leavesongs.com/PENETRATION/nginx-insecure-configuration.html#\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/HMYLb1AwnBT5sVW.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.leavesongs.com/PENETRATION/nginx-insecure-configuration.html#\" class=\"title\">Nginx配置安全 By Phithon</a>\n        <p class=\"desc\">三个典型案例，来说说Nginx配置文件的安全。</p>\n        </div></div><div class=\"item\" title=\"Yz71ng\" style=\"--block-color:#aab3ca;\"><a href=\"https://www.cnblogs.com/Yz71ng/p/16028772.html\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/hTkWuFNpJPZ8gUG.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.cnblogs.com/Yz71ng/p/16028772.html\" class=\"title\">文件泄露总结 By Yz71ng</a>\n        <p class=\"desc\">介绍下一些常见的泄漏，主要分为由版本管理软件导致的泄露，文件包含导致的泄露和配置错误导致的泄露。</p>\n        </div></div><div class=\"item\" title=\"Bypass\" style=\"--block-color:#aab3ca;\"><a href=\"https://www.cnblogs.com/xiaozi/p/12397114.html\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/WLuTEMQq7JXA4SR.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.cnblogs.com/xiaozi/p/12397114.html\" class=\"title\">常见的 Web 源码泄漏漏洞及其利用 By Bypass</a>\n        <p class=\"desc\">Web 源码泄露的漏洞</p>\n        </div></div><div class=\"item\" title=\"CTF-Wiki\" style=\"--block-color:#aab3ca;\"><a href=\"https://ctf-wiki.org/web/php/php/#_1\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/A5KQtEPCf9kuySg.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://ctf-wiki.org/web/php/php/#_1\" class=\"title\">PHP 代码审计</a>\n        <p class=\"desc\">PHP 代码审计</p>\n        </div></div><div class=\"item\" title=\"Evil Pan\" style=\"--block-color:#8d0001;\"><a href=\"https://evilpan.com/2017/09/22/web-file-disclosure/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/Ewp5LXWbzmVA962.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://evilpan.com/2017/09/22/web-file-disclosure/\" class=\"title\">WEB 中的敏感文件泄漏</a>\n        <p class=\"desc\">文件泄露, 根据泄漏的信息敏感程度, 在 WEB 漏洞中可以算是中危甚至高危的漏洞, 本篇文章就来 介绍下一些常见的泄漏, 主要分为由版本管理软件导致的泄露, 文件包含导致的泄露和配置错误导致的泄露.</p>\n        </div></div><div class=\"item\" title=\"Sheldon Zhao\" style=\"--block-color:#de9f41;\"><a href=\"https://evilpan.com/2017/09/22/web-file-disclosure/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/NXlB4tQUrL28aoe.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://evilpan.com/2017/09/22/web-file-disclosure/\" class=\"title\">Github 导致文件泄露</a>\n        <p class=\"desc\">文件泄露, 根据泄漏的信息敏感程度, 在 WEB 漏洞中可以算是中危甚至高危的漏洞, 本篇文章就来 介绍下一些常见的泄漏, 主要分为由版本管理软件导致的泄露, 文件包含导致的泄露和配置错误导致的泄露.</p>\n        </div></div><div class=\"item\" title=\"TideSec\" style=\"--block-color:#0091d4;\"><a href=\"https://www.secpulse.com/archives/188924.html\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/STjJK2z8ivx45HX.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://www.secpulse.com/archives/188924.html\" class=\"title\">Web 源码泄露</a>\n        <p class=\"desc\">在WEB安全之中，可能大家对SQL注入、XSS跨站脚本攻击、文件上传一些漏洞已经耳熟于心了，但因web源码泄露而导致的问题也并不少见。不仅小网站由此类问题，在一些大的厂商站点也同样出现不少。在日常挖掘漏洞中，像web源码泄露此类的信息泄露漏洞还是普遍存在的，而造成这种问题的原因，无一是代码部署到生产环境后，一些细节问题未做处理。</p>\n        </div></div><div class=\"item\" title=\"internetwache\" style=\"--block-color:#c0dd4b;\"><a href=\"https://en.internetwache.org/dont-publicly-expose-git-or-how-we-downloaded-your-websites-sourcecode-an-analysis-of-alexas-1m-28-07-2015/\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/15/kB3UMaeyCsqntzf.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://en.internetwache.org/dont-publicly-expose-git-or-how-we-downloaded-your-websites-sourcecode-an-analysis-of-alexas-1m-28-07-2015/\" class=\"title\">.git 副本公开导致源代码泄露</a>\n        <p class=\"desc\">Sebastian participated in a CTF (capture the flag) a couple of months ago. One challenge he faced was the task of restoring a git repository from a directory listing enabled webserver. With directory listing, it was pretty easy, but Sebastian was curious if it’s possible to restore git respositories without directory listing and how common this misconfiguration flaw is.</p>\n        </div></div><div class=\"item\" title=\"WooYun\" style=\"--block-color:#efefef;\"><a href=\"https://web.archive.org/web/20120518044121/http://www.wooyun.org/\" class=\"image\" data-background-image=\"/assets/404.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://web.archive.org/web/20120518044121/http://www.wooyun.org/\" class=\"title\">WooYun.org</a>\n        <p class=\"desc\">WooYun.org （已关闭）</p>\n        </div></div></div></p>\n<h2 id=\"配置信息泄漏\"><a class=\"anchor\" href=\"#配置信息泄漏\">#</a> 配置信息泄漏</h2>\n<p>漏洞原理及危害</p>\n<p>应用系统由于配置不当，没有考虑相关的安全隐患，造成相关的配置文件泄露，泄露相关的配置。</p>\n<p>攻击者通过配置信息泄露获取敏感数据，为进一步攻击创造条件，设置通过泄露的配置直接控制数据库或网站。</p>\n<h3 id=\"测试方法\"><a class=\"anchor\" href=\"#测试方法\">#</a> 测试方法</h3>\n<ol>\n<li>通过工具爬虫或扫描得到配置文件的路径，从而找到配置数据。<br />\n如 tomcat 的配置文件泄漏问题，使用目录扫描工具如 Dirsearch 等工具对目标网站进行扫描。</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"https://pic1.zhimg.com/80/v2-1e450724311edd7723feaae4e7bd9474_720w.webp\" alt=\"\" /></p>\n<p>发现系统的配置文件信息泄漏。</p>\n<p><img loading=\"lazy\" data-src=\"https://pic3.zhimg.com/80/v2-28ad4dc10c3b3c738d8562dcf9bfc89a_720w.webp\" alt=\"\" /></p>\n<ol start=\"2\">\n<li>对网页源代码的查看，找到相关的配置信息或是配置文件路径。</li>\n</ol>\n<p>在目标主页中点击右键，查看网页源代码，搜索 config 字段或在源码中逐行查找，分析是否存在系统的配置信息或配置文件路径信息。</p>\n<p><img loading=\"lazy\" data-src=\"https://pic1.zhimg.com/80/v2-91437b33777f6836d0ab4df7f69285c8_720w.webp\" alt=\"\" /></p>\n<h3 id=\"修复建议\"><a class=\"anchor\" href=\"#修复建议\">#</a> 修复建议</h3>\n<p>1、对配置文件目录做好访问控制。列举两个常用中间件的例子，具体参考相关中间件的加固版本。</p>\n<h4 id=\"tomcat-限制目标权限\"><a class=\"anchor\" href=\"#tomcat-限制目标权限\">#</a> Tomcat 限制目标权限</h4>\n<p><strong>参考配置操作</strong></p>\n<ol>\n<li>编辑  <code>tomcat/conf/web.xml</code>  配置文件：</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>init-param</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param-name</span><span class=\"token punctuation\">></span></span>listings<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>param-name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param-value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>param-value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>init-param</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>将  <code>true</code>  改为  <code>false</code></p>\n<ol start=\"2\">\n<li>重新启动 Tomcat 服务</li>\n</ol>\n<hr />\n<h4 id=\"apache-禁止相关目录访问\"><a class=\"anchor\" href=\"#apache-禁止相关目录访问\">#</a> Apache 禁止相关目录访问</h4>\n<p><strong>参考配置操作</strong></p>\n<ol>\n<li>编辑  <code>httpd.conf</code>  配置文件：</li>\n</ol>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Directory</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  Order Deny,Allow</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  Deny from all</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Directory</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><strong>补充操作说明</strong><br />\n设置可访问目录：</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>&lt;Directory /web></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  Order Allow,Deny</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  Allow from all</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Directory</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>其中  <code>/web</code>  为网站根目录。</p>\n",
            "tags": [
                "Internet Security",
                "Internet Security",
                "Files Limit"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/Windows%20%E4%B8%8B%20Edge%20&%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8%E9%BB%98%E8%AE%A4%E7%A6%81%E6%AD%A2%20Https%20%E5%8D%8F%E8%AE%AE%20%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/Windows%20%E4%B8%8B%20Edge%20&%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8%E9%BB%98%E8%AE%A4%E7%A6%81%E6%AD%A2%20Https%20%E5%8D%8F%E8%AE%AE%20%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/",
            "title": "Windows 下 Edge & Chrome 浏览器默认禁止 Https 协议 及解决方案",
            "date_published": "2025-02-27T09:31:03.315Z",
            "content_html": "<p><div class=\"links\"><div class=\"item\" title=\"StackOverFlow\" style=\"--block-color:#797b7d;\"><a href=\"https://stackoverflow.com/questions/33524826/localhost-not-working-in-chrome-127-0-0-1-does-work\" class=\"image\" data-background-image=\"https://s2.loli.net/2024/08/20/c6yOFraIkjwm2NT.png\"></a>\n        <div class=\"info\">\n        <a href=\"https://stackoverflow.com/questions/33524826/localhost-not-working-in-chrome-127-0-0-1-does-work\" class=\"title\">Localhost not working in Chrome, 127.0.0.1 does work</a>\n        <p class=\"desc\">Localhost not working in Chrome, 127.0.0.1 does work</p>\n        </div></div></div></p>\n<h1 id=\"english\"><a class=\"anchor\" href=\"#english\">#</a> English</h1>\n<p>Here are the steps I took to make this work correctly:</p>\n<ol>\n<li>Edited my hosts file so  <code>127.0.0.1 localhost.</code>  was present, and saved the file</li>\n<li>Cleared my Chrome cache, specifically cookies and cached files</li>\n<li>Cleared host cache in  <code>chrome://net-internals/#dns</code></li>\n<li>Restarted chrome</li>\n</ol>\n<p>Alternatively, this also works:</p>\n<ol>\n<li>Navigate to  <code>chrome://net-internals/#hsts</code></li>\n<li>Under &quot;Delete domain&quot;, type  <code>localhost</code>  and delete</li>\n</ol>\n<p>Unbeknownst to me, my project had an HSTS middleware that set an HSTS cookie</p>\n<h1 id=\"chinese\"><a class=\"anchor\" href=\"#chinese\">#</a> Chinese</h1>\n<p>Edge 版本：120.0.2210.133 (正式版本) (64 位)</p>\n<p>Chrome 版本：120.0.6099.217 (正式版本) (64 位)</p>\n<p>该版本下成功，仅供参考。</p>\n<p>打开 Edge 浏览器 / Chrome 浏览器<br />\n地址栏输入你要访问的 http 网址，并访问（此时会自动转成 https，这一步不能跳过，接下来继续）<br />\n地址栏输入以下地址，并访问：<br />\nEdge 浏览器：edge://net-internals</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>edge://net-internals</pre></td></tr></table></figure><p>Chrome 浏览器：chrome://net-internals</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>chrome://net-internals</pre></td></tr></table></figure><p>左侧选择： <code>Domain Security Policy</code> <br />\n 右侧的  <code>Query HSTS/PKP domain</code>  下的输入框中输入你要访问的网址（不带 \\http:// 前缀），点击输入框后的  <code>Query</code>  按钮<br />\n如果列出一堆东西，那么继续；如果列出  <code>Not found</code> ，那么返回第 2 步重新执行<br />\n在右侧的  <code>Delete domain security policies</code>  下的输入框中输入你要访问的网址（不带 \\http:// 前缀），点击输入框后的 Delete 按钮<br />\n再次进入第 5 步操作，如果列出  <code>Not found</code> ，那么问题解决，地址栏输入你要访问的 http 网址（带 \\http:// 前缀）</p>\n",
            "tags": [
                "Internet Security",
                "Edge",
                "Chrome",
                "Windows"
            ]
        },
        {
            "id": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/Noir710InteriorUbuntu2004Baseline/",
            "url": "http://avidnoir.github.io/project/2025/02/27/Internet%20Security/Noir710InteriorUbuntu2004Baseline/",
            "title": "710Ubuntu2004Baseline",
            "date_published": "2025-02-27T09:31:03.314Z",
            "content_html": "<h1 id=\"1-身份鉴别策略组检测\"><a class=\"anchor\" href=\"#1-身份鉴别策略组检测\">#</a> 1.   身份鉴别策略组检测</h1>\n<p>准备：</p>\n<p>安装一个 PAM 模块来启用 cracklib 支持，这可以提供额外的密码检查功能。</p>\n<p>在 Debian,Ubuntu 或者 Linux Mint 使用命令:</p>\n<p><strong>sudo apt-get install libpam-cracklib</strong></p>\n<p>这个模块在 CentOS,Fedora 或者 RHEL 默认安装了。但是在 Ubuntu 这些系统上就必需安装。</p>\n<h2 id=\"11-口令周期检测\"><a class=\"anchor\" href=\"#11-口令周期检测\">#</a> 1.1.  口令周期检测</h2>\n<h3 id=\"111-最长使用周期小于等于-90-天非强制\"><a class=\"anchor\" href=\"#111-最长使用周期小于等于-90-天非强制\">#</a> 1.1.1.     最长使用周期小于等于 90 天（非强制）</h3>\n<p><strong>sudo vim /etc/login.defs</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181501059-358315675.png\" alt=\"\" /></p>\n<p>PASS_MAX_DAYS 90</p>\n<p>PASS_MAX_DAYS 99999 代表永不过期</p>\n<h3 id=\"112-查看密码期限最短更换周期大于等于-2-天\"><a class=\"anchor\" href=\"#112-查看密码期限最短更换周期大于等于-2-天\">#</a> 1.1.2.     查看密码期限：最短更换周期大于等于 2 天</h3>\n<p>PASS_MIN_DAYS 2</p>\n<p>检查命令：</p>\n<p><strong>chage -l root</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181518055-1064672146.png\" alt=\"\" /></p>\n<h3 id=\"113-距失效提示天数大于等于-5-天\"><a class=\"anchor\" href=\"#113-距失效提示天数大于等于-5-天\">#</a> 1.1.3.     距失效提示天数大于等于 5 天</h3>\n<p>PASS_WARN_AGE 5</p>\n<h2 id=\"12-密码复杂度检测\"><a class=\"anchor\" href=\"#12-密码复杂度检测\">#</a> 1.2.  密码复杂度检测</h2>\n<h3 id=\"121-密码复杂性要求\"><a class=\"anchor\" href=\"#121-密码复杂性要求\">#</a> 1.2.1.     密码复杂性要求</h3>\n<p>pam_cracklib.so 支持的部分选项如下：</p>\n<p><strong>retry=N**</strong>：** 定义登录 / 修改密码失败时，可以重试的次数</p>\n<p><strong>minlen=N**</strong>：** 新密码的最小长度</p>\n<p><strong>dcredit=N**</strong>：** 当 N&gt;0 时表示新密码中数字出现的最多次数；当 N&lt;0 时表示新密码中数字出现最少次数；</p>\n<p><strong>ucredit=N:</strong>  当 N&gt;0 时表示新密码中大写字母出现的最多次数；当 N&lt;0 时表示新密码中大写字母出现最少次数；</p>\n<p><strong>lcredit=N:</strong>  当 N&gt;0 时表示新密码中小写字母出现的最多次数；当 N&lt;0 时表示新密码中小写字母出现最少次数；</p>\n<p><strong>ocredit=N**</strong>：** 当 N&gt;0 时表示新密码中特殊字符出现的最多次数；当 N&lt;0 时表示新密码中特殊字符出现最少次数；</p>\n<p><strong>maxrepeat=N**</strong>：** 拒绝包含多于 N 个相同连续字符的密码。 默认值为 0 表示禁用此检查</p>\n<p><strong>maxsequence=N**</strong>：** 拒绝包含长于 N 的单调字符序列的密码。默认值为 0 表示禁用此检查。实例是 '12345' 或 'fedcb'。除非序列只是密码的一小部分，否则大多数此类密码都不会通过简单检查。</p>\n<p><strong>enforce_for_root:</strong>  如果用户更改密码是 root，则模块将在失败检查时返回错误。默认情况下，此选项处于关闭状态，只打印有关失败检查的消息，但 root 仍可以更改密码。不要求 root 用户输入旧密码，因此不会执行比较旧密码和新密码的检查</p>\n<p>方法：</p>\n<p><strong>vim</strong> <strong>/etc/pam.d/common-password</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181547252-497974434.png\" alt=\"\" /></p>\n<p><strong>password requisite pam_cracklib.so retry=3 minlen=10 dcredit=-1 ucredit=-1 lcredit=-1 ocredit=-1</strong></p>\n<p>在 pam_cracklib.so  后添加<strong> minlen=10 dcredit=-1 ucredit=-1 lcredit=-1 ocredit=-1</strong></p>\n<p>参数含义：密码长度最小为 10 位，数字出现的最少次数为 1 次，大写字母出现最少 1 次，小写字母出现最少 1 次，特殊字符出现最少 1 次</p>\n<h2 id=\"13-登录锁定检测\"><a class=\"anchor\" href=\"#13-登录锁定检测\">#</a> 1.3.  登录锁定检测</h2>\n<h3 id=\"131-普通用户触发锁定次数小于等于-5\"><a class=\"anchor\" href=\"#131-普通用户触发锁定次数小于等于-5\">#</a> 1.3.1.     普通用户触发锁定次数小于等于 5</h3>\n<h3 id=\"132-普通用户锁定时间大于等于-5-分钟\"><a class=\"anchor\" href=\"#132-普通用户锁定时间大于等于-5-分钟\">#</a> 1.3.2.     普通用户锁定时间大于等于 5 分钟</h3>\n<h3 id=\"133-root-用户触发锁定次数小于等于-5\"><a class=\"anchor\" href=\"#133-root-用户触发锁定次数小于等于-5\">#</a> 1.3.3.     Root 用户触发锁定次数小于等于 5</h3>\n<h3 id=\"134-root-用户锁定时间大于等于-5-分钟具体安装配置\"><a class=\"anchor\" href=\"#134-root-用户锁定时间大于等于-5-分钟具体安装配置\">#</a> 1.3.4.     Root 用户锁定时间大于等于 5 分钟具体安装配置：</h3>\n<p>1、修改如下配置文件：（不建议修改）</p>\n<p>这个只是限制了用户从 tty 登录，而没有限制远程登录，如果想限制远程登录，需要改 sshd 文件</p>\n<p><strong>vim /etc/pam.d/login</strong></p>\n<p>在第二行添加</p>\n<p><strong>auth required pam_tally2.so deny=5 unlock_time=300 even_deny_root=5 root_unlock_time=300</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181612573-655450421.png\" alt=\"\" /></p>\n<p>此处使用的是 pam_tally2 模块，如果不支持 pam_tally2 可以使用 pam_tally 模块。另外，不同的 pam 版本，设置可能有所不同，具体使用方法，可以参照相关模块的使用规则。</p>\n<p><strong>注意</strong></p>\n<p><strong>在第二行，添加内容，一定要写在前面</strong>，如果写在后面，虽然用户被锁定，但是只要用户输入正确的密码，还是可以登录的！</p>\n<p>这个只是限制了用户从 tty 登录，而没有限制远程登录，如果想限制远程登录，需要改 sshd 文件</p>\n<p>2、修改 sshd 文件（建议修改）</p>\n<p><strong>vim /etc/pam.d/sshd</strong></p>\n<p>继续在第二行上添加</p>\n<p><strong>auth required pam_tally2.so deny=5 unlock_time=300 even_deny_root=5 root_unlock_time=300</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181630047-984023369.png\" alt=\"\" /></p>\n<p><strong>查看用户登录失败的次数 **</strong>:**</p>\n<p><strong>sudo pam_tally2 --user</strong></p>\n<p>结果</p>\n<p>ubuntu@VM-0-5-ubuntu:~$ sudo pam_tally2 --user</p>\n<p>Login   Failures Latest failure  From</p>\n<p>root    3 09/29/19 15:53:24 45.119.212.105</p>\n<p>ubuntu    9 09/29/19 15:46:58 223.107.140.84</p>\n<p>解锁指定用户:</p>\n<p><strong>sudo pam_tally2 -r -u admin</strong></p>\n<p>admin@VM-0-5-ubuntu:~$ sudo pam_tally2 -r -u admin</p>\n<p>Login   Failures Latest failure  From</p>\n<p>admin    15 09/29/19 15:58:49 223.107.140.84</p>\n<p>ps：这个远程 ssh 的时候，输入密码错误超过三次但是没有提示，但是<strong>只要超过设定的值，输入正确的密码也是登陆不了的</strong>！，还是要等到设定的时间在重新尝试输入正确密码进行登录认证</p>\n<h2 id=\"14-root-权限用户\"><a class=\"anchor\" href=\"#14-root-权限用户\">#</a> 1.4.  Root 权限用户</h2>\n<h3 id=\"141-root-权限用户检测-非强制\"><a class=\"anchor\" href=\"#141-root-权限用户检测-非强制\">#</a> 1.4.1.     root 权限用户检测  （非强制）</h3>\n<p>检查配置文件<strong> cat /etc/passwd</strong>，不能包含用户标识号为 0，除 root 用户外。</p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181701804-434795546.png\" alt=\"\" /></p>\n<p>以第一行为例，从左至右，分别表示：<br />\n帐号名：口令：用户标识号：组标识号：注释性描述：主目录：登录 shell</p>\n<h2 id=\"15-wheel-组非强制\"><a class=\"anchor\" href=\"#15-wheel-组非强制\">#</a> 1.5.  Wheel 组（非强制）</h2>\n<h3 id=\"151-wheel-组检测-非强制\"><a class=\"anchor\" href=\"#151-wheel-组检测-非强制\">#</a> 1.5.1.     wheel 组检测  （非强制）</h3>\n<p>命令：<strong>cat /etc/group</strong></p>\n<p><strong>检查文件 **</strong>/etc/group*<strong>* 中，**<strong>wheel*</strong>* 后面是否有用户名，如果有，将其删除。</strong></p>\n<p>如下图中示例，viewer 用户加入了 wheel 组中，因此 viewer 用户拥有了 root 的部分功能和权限，因此需要将 viewer 删除。</p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181718555-108599370.png\" alt=\"\" /></p>\n<p>Wheel 组概念</p>\n<p>Wheel 组是 Unix 系统一个遗留物。当服务器需要做比日常例行维护更高级的工作的时候，就经常需要用到 root 权限了。而这个 wheel 组就是建立用来归纳一些特殊的系统用户用的，这其中的用户都或多或少地拥有 root 的部分功能和权限。也就是说如果你不是 wheel 组成员，那就没有 root 身上任何的特权。也因为这样，使用 wheel 组成员用户的话，会尽量减少对系统 “摧毁性” 破坏的概率和风险。如今大多数的 Linux 发行版本中，仍然保留了 wheel 这个组，虽然它已经不像当初设计出来的那样必要了，但是有些老玩家还是忠于这种旧式经典风格的，所以他们经常还是依旧让 wheel 组发挥着以往的作用。他们是这样做的：在建立他们自己的用户时，将其添加入 wheel 组中（用 wheel 组作为用户的主组），或者使用 vigr 来编辑 /etc/group 文件，将他们的用户名追加到 wheel 组那行的末尾。</p>\n<h2 id=\"16-相同-id-用户\"><a class=\"anchor\" href=\"#16-相同-id-用户\">#</a> 1.6.  相同 ID 用户</h2>\n<h3 id=\"161-相同-id-用户检测\"><a class=\"anchor\" href=\"#161-相同-id-用户检测\">#</a> 1.6.1.     相同 ID 用户检测</h3>\n<p>命令：<strong>cat /etc/passwd</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181735287-152552718.png\" alt=\"\" /></p>\n<p>检查配置 /etc/passwd 中，是否包含用户标识号相同的帐号，用户标识号位置如下：</p>\n<p>以第一行为例，从左至右，依次为：</p>\n<p>帐号名：口令：用户标识号：组标识号：注释性描述：主目录：登录 shell</p>\n<h1 id=\"2-访问控制策略组检测\"><a class=\"anchor\" href=\"#2-访问控制策略组检测\">#</a> 2.   访问控制策略组检测</h1>\n<h2 id=\"21-空口令监测\"><a class=\"anchor\" href=\"#21-空口令监测\">#</a> 2.1.  空口令监测</h2>\n<h3 id=\"211-空口令账户\"><a class=\"anchor\" href=\"#211-空口令账户\">#</a> 2.1.1.     空口令账户</h3>\n<p>命令：<strong>cat /etc/shadow**</strong>（检查 ****shadow**** 文件中密码为空且的用户）**</p>\n<p><strong><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181746917-1212125126.png\" alt=\"\" /></strong></p>\n<p>如图上所示，输出 test3 为空口令账户，且可以登录的用户。</p>\n<p>用户 test2:<span class=\"spoiler\" title=\"你知道得太多了\">:18820:0:99999:7::: 第二个字段是 “:</span>:” 代表没有设置密码，但无法登录。</p>\n<p>用户 test3::18820:0:99999:7::: 第二个字段是 “::” 代表第二个字段密码为空，且可以登录。</p>\n<p>如果检测出有空口令账户，可以做以下处理：</p>\n<p><strong>A.</strong> <strong>删除该用户</strong></p>\n<p>命令如下：</p>\n<p><strong>userdel</strong> <strong>用户名</strong></p>\n<p>rm -rf /home/ 用户名 （可选，表示删除该用户的主目录）</p>\n<p><strong>B.</strong> <strong>给该用户设置密码</strong></p>\n<p><strong>passwd</strong> <strong>用户名</strong></p>\n<h2 id=\"22-弱口令检测\"><a class=\"anchor\" href=\"#22-弱口令检测\">#</a> 2.2.  弱口令检测</h2>\n<h3 id=\"221-弱口令账户\"><a class=\"anchor\" href=\"#221-弱口令账户\">#</a> 2.2.1.     弱口令账户</h3>\n<p>如果检测出弱口令账户，建议设置符合秘密复杂度要求的密码，命令如下：</p>\n<p><strong>passwd</strong> <strong>用户名</strong></p>\n<h1 id=\"3-安全审计策略组检测\"><a class=\"anchor\" href=\"#3-安全审计策略组检测\">#</a> 3.   安全审计策略组检测</h1>\n<h2 id=\"31-日志守护进程\"><a class=\"anchor\" href=\"#31-日志守护进程\">#</a> 3.1.  日志守护进程</h2>\n<h3 id=\"311-开启日志守护进程\"><a class=\"anchor\" href=\"#311-开启日志守护进程\">#</a> 3.1.1.     开启日志守护进程</h3>\n<p>当 rsyslog 没有在运行，则检测失败，操作命令如下：</p>\n<p><strong>systemctl status rsyslog</strong> <strong>（查看状态）</strong></p>\n<p><strong>systemctl stop rsyslog</strong> <strong>（停止）</strong></p>\n<p><strong>systemctl start rsyslog</strong> <strong>（启动）</strong></p>\n<p>启动成功后状态：</p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181759317-955985242.png\" alt=\"\" /></p>\n<p>查看进程有没有启动：</p>\n<p>命令：<strong>ps -ef | grep rsyslog</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181811323-1876137368.png\" alt=\"\" /></p>\n<h1 id=\"4-ssh-策略检测\"><a class=\"anchor\" href=\"#4-ssh-策略检测\">#</a> 4.   SSH 策略检测</h1>\n<h2 id=\"41-ssh-检测\"><a class=\"anchor\" href=\"#41-ssh-检测\">#</a> 4.1.  SSH 检测</h2>\n<p>执行如下命令，修改配置文件</p>\n<p><strong>sudo vim /etc/ssh/sshd_config</strong></p>\n<h2 id=\"411-最大失败尝试登录次数小于等于-5需要修改\"><a class=\"anchor\" href=\"#411-最大失败尝试登录次数小于等于-5需要修改\">#</a> 4.1.1.     最大失败尝试登录次数小于等于 5（需要修改）</h2>\n<p><strong>MaxAuthTries 5</strong></p>\n<p><strong><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181825508-1101393820.png\" alt=\"\" /></strong></p>\n<h3 id=\"412-开启密码认证\"><a class=\"anchor\" href=\"#412-开启密码认证\">#</a> 4.1.2.     开启密码认证</h3>\n<p><strong>PasswordAuthentication yes</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181836171-1811578403.png\" alt=\"\" /></p>\n<h3 id=\"413-开启-rsa-认证\"><a class=\"anchor\" href=\"#413-开启-rsa-认证\">#</a> 4.1.3.     开启 RSA 认证</h3>\n<p><strong>RSAAuthentication yes</strong>  （有的系统 需要手动添加）</p>\n<h3 id=\"414-开启公钥验证\"><a class=\"anchor\" href=\"#414-开启公钥验证\">#</a> 4.1.4.     开启公钥验证</h3>\n<p><strong>PubkeyAuthentication yes</strong></p>\n<p>重启 sshd 生效，重启命令如下：</p>\n<p>CentOS 系列： <strong>systemctl restart sshd</strong></p>\n<p>后续随着建立应用账户会回收 root 权限登陆。</p>\n<h1 id=\"5-入侵防范策略组监测\"><a class=\"anchor\" href=\"#5-入侵防范策略组监测\">#</a> 5.   入侵防范策略组监测</h1>\n<h2 id=\"51-防火墙\"><a class=\"anchor\" href=\"#51-防火墙\">#</a> 5.1.  防火墙</h2>\n<p>查看状态</p>\n<p><strong>systemctl status firewalld.service</strong></p>\n<p>启动防火墙</p>\n<p><strong>systemctl start firewalld.service</strong></p>\n<p>关闭防火墙</p>\n<p><strong>systemctl stop firewalld.service</strong></p>\n<p>重新启动防火墙</p>\n<p><strong>systemctl restart firewalld.service</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181911341-1302733075.png\" alt=\"\" /></p>\n<h2 id=\"52-防暴力破解\"><a class=\"anchor\" href=\"#52-防暴力破解\">#</a> 5.2.  防暴力破解</h2>\n<p>安装 EDR</p>\n<h1 id=\"6-恶意代码防范监测\"><a class=\"anchor\" href=\"#6-恶意代码防范监测\">#</a> 6.   恶意代码防范监测</h1>\n<h2 id=\"61-安装-edr\"><a class=\"anchor\" href=\"#61-安装-edr\">#</a> 6.1.   安装 EDR</h2>\n<h1 id=\"7-ntp-时间同步配置\"><a class=\"anchor\" href=\"#7-ntp-时间同步配置\">#</a> 7.   NTP 时间同步配置</h1>\n<p>安装 ntpdateNTP 时间同步配置</p>\n<p><strong>apt-get install ntpdate</strong></p>\n<p>编辑 /etc/ntp.conf 文件</p>\n<p><strong>vim /etc/ntp.conf</strong></p>\n<p>添加配置</p>\n<p><strong>server 10.14.1.11 prefer iburst</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181342958-1396431206.png\" alt=\"\" /></p>\n<p>其中的 prefer 优先级最高，不然在多个同步服务时，可能自己本地的 ntp 服务不被选中，会使用其他的源作为同步的时间选项。</p>\n<p>其中的 iburst 是初始化时，每 2 秒发送一批同步</p>\n<p>重新启动 NTP 服务器：</p>\n<p><strong>service ntp restart</strong></p>\n<p>查看同步情况：</p>\n<p><strong>watch ntpq –p</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://img2022.cnblogs.com/blog/2605882/202203/2605882-20220304181354751-1267332557.png\" alt=\"\" /></p>\n<p>1. 基线 即安全基线配置，诸如操作系统、<a href=\"https://cloud.tencent.com/product/tdmq?from_column=20065&amp;from=20065\">中间件</a>和<a href=\"https://cloud.tencent.com/solution/database?from_column=20065&amp;from=20065\">数据库</a>的一个整体配置，这个版本中各项配置都符合安全方面的标准。比如在系统安装后需要按安全基线标准，将新机器中各项配置调整到一个安全、高效、合理的数值。</p>\n<p>2. 基线扫描 使用自动化工具、抓取系统和服务的配置项。将抓取到的实际值和标准值进行对比，将不符合的项显示出来，最终以报告 的形式体现出扫描结果有的工具将配置采集和配置对比分开，通过自动化脚本采集配置后再通过特别的软件转换为适合人类阅读的文档</p>\n<p>3. 基线加固自动化脚本的编写 本篇文章主要是记录和学习安全加固脚本，首先放几张安全加固 shell 脚本的命令语法：</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/010db2a0a0bf5f2c256e8a3dae1b584b.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/a8e3ed4e366e9636d928a26546a6d0ac.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/c85957d16e18c69f2197eb9da2ba525a.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/ecdb1c7e1748be34009bef38c0fe108c.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/4adba481ec1e20a9918c8ab917dbd7b4.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/c41abbb4a86e2bc965bad9ec880e66be.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/ae6ee0255bea14ce211554c53c496c73.png\" alt=\"\" /></p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/af764641566bb566590ef36c7f2ce77b.png\" alt=\"\" /></p>\n<p>基本命令语法介绍完了，借用网上的脚本来学习：</p>\n<p>在执行脚本前需要提前做好备份：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token hashbang comment\">#!/bin/bash</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>security<span class=\"token operator\">/</span>limits<span class=\"token punctuation\">.</span>conf <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>security<span class=\"token operator\">/</span>limits<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>su  <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>su<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>net <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>shadow <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>shadow<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>passwd <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>passwd<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>passwd  <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>passwd<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>common<span class=\"token operator\">-</span>password <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>common<span class=\"token operator\">-</span>password<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>host<span class=\"token punctuation\">.</span>conf <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>host<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>allow <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>allow<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>ntp<span class=\"token punctuation\">.</span>conf <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>ntp<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>cp <span class=\"token operator\">-</span>p <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysctl<span class=\"token punctuation\">.</span>conf <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysctl<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>echo <span class=\"token string\">\"============备份完成==================\"</span></pre></td></tr></table></figure><ol>\n<li>检查是否设置口令更改最小间隔天数</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/5a39f3c404022386485af122f4147ba6.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token constant\">MINDAY</span><span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/login.defs | grep -v \".*#.*\"| grep PASS_MIN_DAYS|awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$<span class=\"token constant\">MINDAY</span><span class=\"token string\">'s/.*PASS_MIN_DAYS.*/PASS_MIN_DAYS 6/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"检查口令更改最小间隔天数完成\"</span></pre></td></tr></table></figure><p>2. 检查是否设置口令过期前警告天数</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/1df2235b33f18bf694fabe3ce92940d7.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token constant\">WARNAGE</span><span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/login.defs | grep -v \".*#.*\"| grep PASS_WARN_AGE|awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$<span class=\"token constant\">WARNAGE</span><span class=\"token string\">'s/.*PASS_WARN.*/PASS_WARN_AGE 30/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"检查口令过期前警告天数完成\"</span></pre></td></tr></table></figure><p>3. 检查口令生存周期</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/982ed110f38278a3b62d66f69388344a.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token constant\">MAXDAY</span><span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/login.defs | grep -v \".*#.*\"| grep PASS_MAX_DAYS|awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$<span class=\"token constant\">MAXDAY</span><span class=\"token string\">'s/.*PASS_MAX.*/PASS_MAX_DAYS 90/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"检查口令生存周期完成\"</span></pre></td></tr></table></figure><p>4. 检查口令最小长度</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/1a77b2e8a751e4aacd8f19caa2218f7c.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token constant\">MINLEN</span><span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/login.defs | grep -v \".*#.*\"| grep PASS_MIN_LEN|awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$<span class=\"token constant\">MINDAY</span><span class=\"token string\">'s/.*PASS_MIN_LEN.*/PASS_MIN_ LEN 6/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>login<span class=\"token punctuation\">.</span>defs</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"检查口令最小长度\"</span></pre></td></tr></table></figure><p>5. 检查是否设置 grub，lilo 密码</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/8100006c24e8a3e555118956b0d519ad.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>grub<span class=\"token operator\">=</span><span class=\"token string\">\"/etc/menu.lst\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token operator\">-</span>x <span class=\"token string\">\"$grub\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>touch <span class=\"token string\">\"$grub\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo password<span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token operator\">>></span> <span class=\"token string\">\"$grub\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>echo password<span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token operator\">>></span> <span class=\"token string\">\"$grub\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>fi</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>lilo<span class=\"token operator\">=</span><span class=\"token string\">\"/etc/lilo.conf\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token operator\">-</span>x <span class=\"token string\">\"$lilo\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>touch <span class=\"token string\">\"$lilo\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>echo password<span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token operator\">>></span> <span class=\"token string\">\"$lilo\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>echo password<span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token operator\">>></span> <span class=\"token string\">\"$lilo\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>fi</pre></td></tr></table></figure><p>6. 检查是否设置 core</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/8497d913f604b4743671b61a4c6c528e.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>c<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/security/limits.conf | grep \"#root\" | awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>d<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/security/limits.conf | grep \"#root\" | awk '&#123;print $5&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$c<span class=\"token string\">' s/$d/0/g'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>security<span class=\"token operator\">/</span>limits<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo <span class=\"token string\">\"设置* hard core 0完成\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>e<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/security/limits.conf | grep soft | grep core | awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>f<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/security/limits.conf | grep soft | grep core | awk '&#123;print $5&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$e<span class=\"token string\">' s/'</span>$f<span class=\"token string\">'/0/g'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>security<span class=\"token operator\">/</span>limits<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>echo <span class=\"token string\">\"设置* soft core 0完成\"</span></pre></td></tr></table></figure><p>7. 检查系统是否禁用 ctrl+alt+del 组合</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/2f85e3303e75e6e556e12fbed0ed03f9.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>a<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/control-alt-delete.conf|grep -v \"#\" | grep /sbin/shutdown | awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>z $a <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   echo ok</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$a<span class=\"token string\">' s/^/#/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>control<span class=\"token operator\">-</span>alt<span class=\"token operator\">-</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>fi</pre></td></tr></table></figure><p>8. 检查保留历史记录文件的大小与数量</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/9ad5ca992d62a2e688f590518f718fcc.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>echo <span class=\"token string\">\"HISTFILESIZE=5\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>echo <span class=\"token string\">\"  检查保留历史命令的记录文件大小完成\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"HISTSIZE=5\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo <span class=\"token string\">\"检查保留历史命令的条数完成\"</span></pre></td></tr></table></figure><p>9. 检查是否使用 PAM 认证模块禁止 wheel 组之外的用户 su 为 root</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/4e842bccc8a6055885f2b25c3d879769.png\" alt=\"\" /></p>\n<p>10. 检查是否删除了 /etc/issue.net 文件</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/f966cb5045298f2b695035f47b7be42b.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>net <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>mv <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>net <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>echo <span class=\"token string\">\"issue.net 文件不存在\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>fi</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>then</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>mv <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>issue<span class=\"token punctuation\">.</span>bak</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>echo <span class=\"token string\">\"issue 文件不存在\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>fi</pre></td></tr></table></figure><p>11. 是否删除与设备运行，维护等工作无关的账户</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/a1a8ec0dcf512d34d4c2a126f6925c45.png\" alt=\"\" /></p>\n<p>12. 检查密码重复使用次数限制</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/7a94fe238cfb70359102ddd0e9b2f2eb.png\" alt=\"\" /></p>\n<p>13. 检查是否配置账户认证失败次数限制</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/a10d597ac99483112839bd8dd0454cd1.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cd <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>f system<span class=\"token operator\">-</span>auth <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>system<span class=\"token operator\">-</span>auth  <span class=\"token operator\">/</span>etc</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>#num<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">grep -n \"md5\" /etc/system-auth | cut -d \":\" -f 1</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>#sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$num<span class=\"token string\">'    r s/$/ remember=5'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>system<span class=\"token operator\">-</span>auth</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>kk<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/system-auth | grep -v \".*#.*\"| grep md5|awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>echo $kk</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>version<span class=\"token operator\">=</span><span class=\"token string\">\"password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok remember=500\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">\"\"</span>$kk<span class=\"token string\">\"c $version\"</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>system<span class=\"token operator\">-</span>auth</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>letter<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat -n /etc/system-auth |grep password | grep requisite | awk '&#123;print $1&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">''</span>$letter<span class=\"token string\">'s/pam_cracklib.so/&amp; ucredit=-1 lcredit=-1 dcredit=-1 /'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pam<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>system<span class=\"token operator\">-</span>auth</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>fi</pre></td></tr></table></figure><p>14. 检查是否配置关闭 IP 伪装与绑定</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/21c0681b0f6ca00a93b5c558f0079022.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>snu<span class=\"token operator\">=</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat /etc/host.conf | awk '&#123;print $2&#125;'</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"$snu\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"on\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"没有关闭ip伪装\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>fi</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/on/off/g'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>host<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>echo <span class=\"token string\">\"  关闭IP伪装完成\"</span></pre></td></tr></table></figure><p>15. 检查 /etc/hosts 配置</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/c3ea64b5775ba54375c7395c49fae78e.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>f hosts<span class=\"token punctuation\">.</span>allow <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>allow <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\"all:172.18.12.:all\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>allow</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo <span class=\"token string\">\"sshd:172.18.12.:all\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>allow</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>fi</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>cd <span class=\"token operator\">/</span>etc</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>f hosts<span class=\"token punctuation\">.</span>deny <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>then</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>cp <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>deny <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>echo <span class=\"token string\">\"all:all\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts<span class=\"token punctuation\">.</span>deny</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>fi</pre></td></tr></table></figure><p>16. 检查相关服务状态</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/94c2218fb1f3fec46933067174adb078.png\" alt=\"\" /></p>\n<p>17. 检查重要文件是否存在 suid 和 sgid 权限</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/ddd078931f7a41e61bdcf36a082834be.png\" alt=\"\" /></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>find <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>chage <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>gpasswd <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>wall <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>chfn <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>chsh <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>newgrp <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>write <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token operator\">/</span>usernetctl <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token operator\">/</span>traceroute <span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>mount <span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>umount <span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>ping <span class=\"token operator\">/</span>sbin<span class=\"token operator\">/</span>netreport <span class=\"token operator\">-</span>type f <span class=\"token operator\">-</span>perm <span class=\"token operator\">+</span><span class=\"token number\">6000</span> <span class=\"token number\">2</span><span class=\"token operator\">></span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span><span class=\"token keyword\">null</span> <span class=\"token operator\">></span>file<span class=\"token punctuation\">.</span>txt</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>s file<span class=\"token punctuation\">.</span>txt <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> then</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo <span class=\"token string\">\" find。。这条命令有输出\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat file.txt</span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">do</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>chmod <span class=\"token number\">755</span> $idoneelse</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>echo <span class=\"token string\">\"find 。。这条命令没有输出\"</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>fi</pre></td></tr></table></figure><p>18. 其他</p>\n<p><img loading=\"lazy\" data-src=\"https://ask.qcloudimg.com/http-save/yehe-2947494/ed3e50ad14919becfd431c50d47f83f3.png\" alt=\"\" /></p>\n<p>19. 权限设置</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>chmod <span class=\"token number\">644</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>passwd</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>chmod <span class=\"token number\">644</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>group</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>chmod <span class=\"token number\">400</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>shadow</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>#chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>xinetd<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>chmod <span class=\"token number\">644</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>services</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>security</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>grub<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>boot<span class=\"token operator\">/</span>grub<span class=\"token operator\">/</span>grub<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>lilo<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>echo <span class=\"token string\">\"文件权限设置完成\"</span></pre></td></tr></table></figure><p>注：要使用下面示例代码中的命令来实施 Ubuntu 20.04 LTS 服务器的安全加固步骤，首先确保您的服务器上已安装 Git。</p>\n<h2 id=\"1-更新系统\"><a class=\"anchor\" href=\"#1-更新系统\">#</a> 1. 更新系统</h2>\n<p>安全性始于系统的更新。确保您的 Ubuntu 服务器上的所有软件包和操作系统都是最新的版本。使用以下命令更新系统：</p>\n<p>sudo apt update<br />\nsudo apt upgrade</p>\n<h2 id=\"2-配置防火墙\"><a class=\"anchor\" href=\"#2-配置防火墙\">#</a> 2. 配置防火墙</h2>\n<p>Ubuntu 默认启用了 UFW（Uncomplicated Firewall），可以轻松配置防火墙规则。首先，允许 SSH 访问，然后只允许必要的端口通过防火墙。例如，如果您运行 Web 服务器（如 Nginx 或 Apache），可以使用以下命令允许 HTTP（端口 80）和 HTTPS（端口 443）流量：</p>\n<p>sudo ufw allow OpenSSH<br />\nsudo ufw allow 80/tcp<br />\nsudo ufw allow 443/tcp<br />\nsudo ufw enable</p>\n<p>确保在设置完防火墙规则后启用 UFW。</p>\n<h2 id=\"3-禁用不必要的服务\"><a class=\"anchor\" href=\"#3-禁用不必要的服务\">#</a> 3. 禁用不必要的服务</h2>\n<p>默认情况下，Ubuntu 服务器可能启用了一些不必要的服务。检查并禁用不需要的服务以减少潜在的攻击面。使用 <code>systemctl</code>  命令来管理服务，例如：</p>\n<h1 id=\"禁用一个服务\"><a class=\"anchor\" href=\"#禁用一个服务\">#</a> 禁用一个服务</h1>\n<p>sudo systemctl disable (service-name)</p>\n<h1 id=\"停止并禁用一个服务\"><a class=\"anchor\" href=\"#停止并禁用一个服务\">#</a> 停止并禁用一个服务</h1>\n<p>sudo systemctl stop (service-name)<br />\nsudo systemctl disable (service-name)</p>\n<h2 id=\"4-配置-ssh-安全\"><a class=\"anchor\" href=\"#4-配置-ssh-安全\">#</a> 4. 配置 SSH 安全</h2>\n<p>SSH 是远程管理 Ubuntu 服务器的主要方式，因此确保 SSH 安全非常重要。</p>\n<h3 id=\"41-更改-ssh-默认端口\"><a class=\"anchor\" href=\"#41-更改-ssh-默认端口\">#</a> 4.1 更改 SSH 默认端口</h3>\n<p>将 SSH 端口更改为非默认端口（默认是 22）可以降低恶意攻击的风险。编辑 SSH 配置文件：</p>\n<p>sudo nano /etc/ssh/sshd_config</p>\n<p>找到 <code>Port</code>  行并更改端口号，然后重新启动 SSH 服务：</p>\n<p>sudo systemctl restart ssh</p>\n<h3 id=\"42-禁用密码登录\"><a class=\"anchor\" href=\"#42-禁用密码登录\">#</a> 4.2 禁用密码登录</h3>\n<p>使用 SSH 密钥认证来替代密码登录，以提高安全性。编辑 SSH 配置文件：</p>\n<p>sudo nano /etc/ssh/sshd_config</p>\n<p>找到 <code>PasswordAuthentication</code>  行，将其设置为 <code>no</code> ，然后重新启动 SSH 服务：</p>\n<p>PasswordAuthentication no</p>\n<h3 id=\"43-使用-ssh-密钥\"><a class=\"anchor\" href=\"#43-使用-ssh-密钥\">#</a> 4.3 使用 SSH 密钥</h3>\n<p>创建 SSH 密钥对并将公钥复制到服务器上。使用以下命令来生成 SSH 密钥：</p>\n<p>ssh-keygen -t rsa -b 4096</p>\n<p>然后将 <code>~/.ssh/id_rsa.pub</code>  中的公钥复制到服务器的 <code>~/.ssh/authorized_keys</code>  文件中。</p>\n<h2 id=\"5-防止暴力攻击\"><a class=\"anchor\" href=\"#5-防止暴力攻击\">#</a> 5. 防止暴力攻击</h2>\n<p>保护服务器免受暴力攻击是非常重要的。使用工具如 <code>Fail2Ban</code>  来防止暴力 SSH 登录尝试。首先安装 <code>Fail2Ban</code> ：</p>\n<p>sudo apt install fail2ban</p>\n<p>然后配置它来监控 SSH 登录尝试并封锁 IP 地址：</p>\n<p>sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local<br />\nsudo nano /etc/fail2ban/jail.local</p>\n<p>在 <code>jail.local</code>  文件中，配置 SSH 规则，例如：</p>\n<p>[sshd]<br />\nenabled = true<br />\nport = ssh<br />\nfilter = sshd<br />\nlogpath = /var/log/auth.log<br />\nmaxretry = 3</p>\n<p>最后，重新启动 <code>Fail2Ban</code> ：</p>\n<p>sudo systemctl restart fail2ban</p>\n<h2 id=\"6-文件系统安全\"><a class=\"anchor\" href=\"#6-文件系统安全\">#</a> 6. 文件系统安全</h2>\n<h3 id=\"61-使用-apparmor-或-selinux\"><a class=\"anchor\" href=\"#61-使用-apparmor-或-selinux\">#</a> 6.1 使用 AppArmor 或 SELinux</h3>\n<p>AppArmor 和 SELinux 是 Linux 上的强制访问控制工具，可以帮助限制应用程序的权限。根据您的需求选择其中一个并配置它。</p>\n<h4 id=\"配置-apparmor\"><a class=\"anchor\" href=\"#配置-apparmor\">#</a> 配置 AppArmor</h4>\n<h1 id=\"安装-apparmor如果未安装\"><a class=\"anchor\" href=\"#安装-apparmor如果未安装\">#</a> 安装 AppArmor（如果未安装）</h1>\n<p>sudo apt install apparmor apparmor-utils</p>\n<h1 id=\"启用-apparmor\"><a class=\"anchor\" href=\"#启用-apparmor\">#</a> 启用 AppArmor</h1>\n<p>sudo systemctl enable apparmor<br />\nsudo systemctl start apparmor</p>\n<p>然后，为您的应用程序创建或配置 AppArmor 策略文件。</p>\n<h4 id=\"配置-selinux\"><a class=\"anchor\" href=\"#配置-selinux\">#</a> 配置 SELinux</h4>\n<h1 id=\"安装-selinux如果未安装\"><a class=\"anchor\" href=\"#安装-selinux如果未安装\">#</a> 安装 SELinux（如果未安装）</h1>\n<p>sudo apt install selinux-utils selinux-basics selinux-policy-default</p>\n<h1 id=\"启用-selinux\"><a class=\"anchor\" href=\"#启用-selinux\">#</a> 启用 SELinux</h1>\n<p>sudo selinux-activate</p>\n<h1 id=\"重启服务器\"><a class=\"anchor\" href=\"#重启服务器\">#</a> 重启服务器</h1>\n<p>sudo reboot</p>\n<p>然后，为您的应用程序创建或配置 SELinux 策略。</p>\n<h3 id=\"62-限制目录和文件权限\"><a class=\"anchor\" href=\"#62-限制目录和文件权限\">#</a> 6.2 限制目录和文件权限</h3>\n<p>使用 <code>chmod</code>  和 <code>chown</code>  命令来限制对文件和目录的访问权限，确保只有授权的用户可以访问重要的系统文件。</p>\n<h1 id=\"修改文件或目录的权限\"><a class=\"anchor\" href=\"#修改文件或目录的权限\">#</a> 修改文件或目录的权限</h1>\n<p>sudo chmod permissions /path/to/file_or_directory</p>\n<h1 id=\"修改文件或目录的所有者和群组\"><a class=\"anchor\" href=\"#修改文件或目录的所有者和群组\">#</a> 修改文件或目录的所有者和群组</h1>\n<p>sudo chown owner:group /path/to/file_or_directory</p>\n<p>请注意， <code>permissions</code> ， <code>owner</code>  和 <code>group</code>  应根据您的需求进行替换。</p>\n<h2 id=\"7-监控和日志\"><a class=\"anchor\" href=\"#7-监控和日志\">#</a> 7. 监控和日志</h2>\n<p>监控服务器的活动并查看系统日志以及网络流量是检测潜在问题的关键。使用工具如 <code>fail2ban</code> 、 <code>logwatch</code>  和 <code>rkhunter</code>  来监控服务器的安全性。</p>\n<h2 id=\"8-定期备份\"><a class=\"anchor\" href=\"#8-定期备份\">#</a> 8. 定期备份</h2>\n<p>定期备份服务器上的数据，以防止数据丢失。使用备份工具或云存储服务来创建备份策略。</p>\n<h2 id=\"9-教育用户\"><a class=\"anchor\" href=\"#9-教育用户\">#</a> 9. 教育用户</h2>\n<p>对服务器用户进行安全意识培训，教育他们如何创建强密码、避免社会工程攻击和识别潜在的安全威胁。</p>\n<h2 id=\"10-定期审计\"><a class=\"anchor\" href=\"#10-定期审计\">#</a> 10. 定期审计</h2>\n<p>定期审计服务器的安全性，识别并修复潜在的漏洞和问题。确保您的安全策略持续有效。</p>\n",
            "tags": [
                "Internet Security",
                "Baseline",
                "Ubuntu"
            ]
        }
    ]
}